
<!-- saved from url=(0029)https://live.paj.com.my/KL004 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Line wrap<input type="checkbox" aria-label="Line wrap"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">en</span>"&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">    <span class="html-tag">&lt;title&gt;</span>Jejak Kedudukan Bas Muafakat Johor<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">charset</span>="<span class="html-attribute-value">UTF-8</span>"&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">viewport</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">width=device-width, initial-scale=1.0</span>"&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Jejak Kedudukan Bas Muafakat Johor</span>"/&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">shortcut icon</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/logo-paj.png" rel="noreferrer noopener">/assets/logo-paj.png</a>"/&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css" rel="noreferrer noopener">https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/plugins/global/plugins.bundle.css" rel="noreferrer noopener">/assets/plugins/global/plugins.bundle.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"/&gt;</span></td></tr><tr><td class="line-number" value="11"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/css/style.bundle.css" rel="noreferrer noopener">/assets/css/style.bundle.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"/&gt;</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css" rel="noreferrer noopener">https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content">    <span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content">        body {</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            padding: 0;</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">        #map {</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">            position: absolute;</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">            top: 0;</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">            bottom: 0;</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">        .legend-card {</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">            position: absolute;</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">            top: 10px;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">            right: 10px;</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">            background: white;</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">            padding: 15px;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">            padding-top: 3px;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">            box-shadow: 0 2px 4px rgba(0,0,0,0.1);</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">            z-index: 1;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">            max-width: 200px;</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">        .legend-title {</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">            font-weight: 600;</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">            font-size: 14px;</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">            margin: 0 0 10px 0;</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">            color: #333;</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">        .legend-item {</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">            display: flex;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">            align-items: center;</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">            margin-bottom: 8px;</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">        .legend-item:last-child {</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">            margin-bottom: 0;</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">        .legend-icon {</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">            width: 20px;</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">            height: 20px;</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">            margin-right: 8px;</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">            background-size: contain;</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">            background-repeat: no-repeat;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">            background-position: center;</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">        .legend-text {</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">            font-size: 12px;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">            color: #666;</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">        .legend-route {</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">            background-color: #ff0000;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">            width: 20px;</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">            height: 3px;</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">            margin-right: 8px;</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">            border-radius: 2px;</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">        .mapboxgl-popup-content {</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">            padding: 15px;</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">        .bus-stop-name {</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">            font-weight: bold;</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">            color: #333;</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">            font-size: 14px;</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="80"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="81"></td><td class="line-content">        /* New styles for the sliding cards */</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">        .bus-cards-container {</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">            position: fixed;</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">            bottom: 30px;</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">            left: 50%;</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">            transform: translateX(-50%);</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">            /*height: 50px;*/</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">            background: transparent;</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">            overflow-x: auto;</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">            white-space: nowrap;</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">            padding-top: 10px;</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">            padding-bottom: 10px;</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">            padding-left: 10px;</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">            /*padding-bottom: 10px;*/</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">            scrollbar-width: none; /* Firefox */</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">            -ms-overflow-style: none; /* IE and Edge */</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">            z-index: 1000;</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">            max-width: 1200px;</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="101"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="102"></td><td class="line-content">        /*.bus-cards-container::-webkit-scrollbar {*/</td></tr><tr><td class="line-number" value="103"></td><td class="line-content">        /*    display: none; !* Chrome, Safari, Opera *!*/</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">        /*}*/</td></tr><tr><td class="line-number" value="105"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="106"></td><td class="line-content">        .bus-card {</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">            display: inline-block;</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">            width: 160px;</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">            height: 60px;</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">            margin-right: 10px;</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">            background: rgba(255, 255, 255, 0.9);</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">            padding: 10px;</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">            vertical-align: top;</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">            cursor: pointer;</td></tr><tr><td class="line-number" value="117"></td><td class="line-content">            transition: all 0.2s ease;</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">            backdrop-filter: blur(5px);</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; /* Add this line */</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="121"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="122"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">        .bus-card:hover {</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">            transform: translateY(-2px);</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="126"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="127"></td><td class="line-content">        .bus-card.active {</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">            background: #e3f2fd;</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">            border: 2px solid #2196f3;</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="131"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="132"></td><td class="line-content">        .bus-id {</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">            /*font-weight: bold;*/</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">            /*font-size: 16px;*/</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">            color: #434343;</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">            margin: 0 0 5px 0;</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="138"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="139"></td><td class="line-content">        .last-update {</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">            font-size: 12px;</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">            color: #666;</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">        .online {</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">            /*background: #0fa354;*/</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">        .offline {</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">            background: #dadada;</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">        /*.logo-container img {*/</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">        /*    height: 40px;*/</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">        /*    width: auto;*/</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">        /*}*/</td></tr><tr><td class="line-number" value="154"></td><td class="line-content"> .back-btn{</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">      display:inline-flex;</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">      align-items:center;</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">      gap:8px;</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">      margin-top:10px;</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">      padding:8px 12px;</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">      border-radius:8px;</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">      border:1px solid rgba(0,0,0,.08);</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">      background:#f4f6f8;</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">      font-size:12px;</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">      font-weight:600;</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">      color:#2b2e34;</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">      text-decoration:none;</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">      box-shadow:0 1px 2px rgba(0,0,0,.06);</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">      transition:transform .12s ease, background .12s ease;</td></tr><tr><td class="line-number" value="169"></td><td class="line-content">  }</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">  .back-btn:hover{ background:#e9ecef; transform:translateY(-1px); }</td></tr><tr><td class="line-number" value="171"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="172"></td><td class="line-content">  .legend-card{ z-index: 2001!important; } /* pastikan atas Mapbox controls */</td></tr><tr><td class="line-number" value="173"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="174"></td><td class="line-content">  .legend-nav {</td></tr><tr><td class="line-number" value="175"></td><td class="line-content">    display:flex; gap:8px; margin-top:10px; flex-wrap:wrap;</td></tr><tr><td class="line-number" value="176"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="177"></td><td class="line-content">.legend-btn {</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">    display:inline-flex; align-items:center; gap:6px;</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">    background:#f4f6f8; border:1px solid #e2e8f0; border-radius:8px;</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">    padding:8px 10px; font-size:12px; color:#333; text-decoration:none;</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">    box-shadow:0 1px 2px rgba(0,0,0,.05);</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">.legend-btn:hover { background:#eef2f6; }</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">.legend-btn .kecil { opacity:.7; font-weight:600; }</td></tr><tr><td class="line-number" value="185"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="186"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="187"></td><td class="line-content">    <span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="188"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="189"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://unpkg.com/@turf/turf@6.5.0/turf.min.js" rel="noreferrer noopener">https://unpkg.com/@turf/turf@6.5.0/turf.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="190"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="191"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="192"></td><td class="line-content"><span class="html-tag">&lt;body&gt;</span></td></tr><tr><td class="line-number" value="193"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">map</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="194"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bus-cards-container</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">busCards</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="195"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-card text-center</span>"&gt;</span></td></tr><tr><td class="line-number" value="196"></td><td class="line-content">    <span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/logo-main.png" rel="noreferrer noopener">https://live.paj.com.my/assets/logo-main.png</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">logo-container mt-2</span>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">Logo</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">width: 70px; height: auto;</span>"&gt;</span></td></tr><tr><td class="line-number" value="197"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="198"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="199"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-icon</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">background-image: url(https://live.paj.com.my/assets/bus-marker.png)</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="200"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Bas<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="201"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="202"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="203"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-icon</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">background-image: url(https://live.paj.com.my/assets/bus-stop-marker.png)</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="204"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Perhentian<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="205"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="206"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="207"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-route</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="208"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Laluan<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="209"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="210"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="211"></td><td class="line-content">    <span class="html-comment">&lt;!-- NEW: Butang Kembali --&gt;</span></td></tr><tr><td class="line-number" value="212"></td><td class="line-content">    <span class="html-tag">&lt;a <span class="html-attribute-name">class</span>="<span class="html-attribute-value">back-btn</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://live.paj.com.my/" rel="noreferrer noopener">https://live.paj.com.my</a>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">btnBack</span>"&gt;</span></td></tr><tr><td class="line-number" value="213"></td><td class="line-content">        <span class="html-comment">&lt;!-- ikon anak panah kecil (SVG inline supaya tiada dependensi) --&gt;</span></td></tr><tr><td class="line-number" value="214"></td><td class="line-content">        <span class="html-tag">&lt;svg <span class="html-attribute-name">width</span>="<span class="html-attribute-value">14</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">14</span>" <span class="html-attribute-name">viewBox</span>="<span class="html-attribute-value">0 0 24 24</span>" <span class="html-attribute-name">fill</span>="<span class="html-attribute-value">none</span>" <span class="html-attribute-name">aria-hidden</span>="<span class="html-attribute-value">true</span>"&gt;</span></td></tr><tr><td class="line-number" value="215"></td><td class="line-content">          <span class="html-tag">&lt;path <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M10 19l-7-7 7-7</span>" <span class="html-attribute-name">stroke</span>="<span class="html-attribute-value">#2b2e34</span>" <span class="html-attribute-name">stroke-width</span>="<span class="html-attribute-value">2</span>" <span class="html-attribute-name">stroke-linecap</span>="<span class="html-attribute-value">round</span>" <span class="html-attribute-name">stroke-linejoin</span>="<span class="html-attribute-value">round</span>"/&gt;</span></td></tr><tr><td class="line-number" value="216"></td><td class="line-content">          <span class="html-tag">&lt;path <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M3 12h18</span>" <span class="html-attribute-name">stroke</span>="<span class="html-attribute-value">#2b2e34</span>" <span class="html-attribute-name">stroke-width</span>="<span class="html-attribute-value">2</span>" <span class="html-attribute-name">stroke-linecap</span>="<span class="html-attribute-value">round</span>" <span class="html-attribute-name">stroke-linejoin</span>="<span class="html-attribute-value">round</span>"/&gt;</span></td></tr><tr><td class="line-number" value="217"></td><td class="line-content">        <span class="html-tag">&lt;/svg&gt;</span></td></tr><tr><td class="line-number" value="218"></td><td class="line-content">        Kembali</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="220"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="221"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://code.jquery.com/jquery-3.6.0.min.js" rel="noreferrer noopener">https://code.jquery.com/jquery-3.6.0.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="222"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js" rel="noreferrer noopener">https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="223"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="224"></td><td class="line-content">    let geojson = {"name":"KL004","type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"LineString","coordinates":[[103.1943281632106,2.189605769400438],[103.1945002106332,2.18944506719609],[103.1935171778546,2.188280627261997],[103.1939580860383,2.187863669745343],[103.1952974416098,2.186463160171179],[103.1962255579689,2.185602773122211],[103.1963019061547,2.18547830708575],[103.1963594192049,2.185358906195393],[103.1963920937876,2.185289353892049],[103.1964253923693,2.185206550074487],[103.1965368371421,2.185155158654061],[103.1966621269252,2.185093852007491],[103.1969921867954,2.185005989422608],[103.1971554167314,2.184989185525366],[103.1974148171675,2.185005988337235],[103.1979300407475,2.18516199094352],[103.198779563069,2.185369374535035],[103.1992817381374,2.185411391626263],[103.1998171867632,2.185435985573254],[103.2011592558355,2.185386850400095],[103.2014589429485,2.185376354133933],[103.2017904194703,2.185327525526902],[103.2020253440744,2.185278943391025],[103.2023723860872,2.185179084528183],[103.203441287303,2.184837453215008],[103.2050248703632,2.184171569576088],[103.2071462350655,2.183351026523387],[103.2086214215794,2.182922188728318],[103.2106601952344,2.1824013611926],[103.21123044553,2.182277442457075],[103.2118241250948,2.182101250546461],[103.2123789390784,2.181885695559696],[103.213239328637,2.181497250490791],[103.214423099281,2.180973468809494],[103.2151678563936,2.180554933776353],[103.2156827398258,2.180165169656225],[103.2162939148877,2.179618410139854],[103.2172558923842,2.1785522982998],[103.2182018652339,2.177429218256254],[103.2195675600204,2.175899845913736],[103.2203767596001,2.174960074606355],[103.2210818862074,2.173992651078423],[103.2218253365862,2.172967436862115],[103.2222534927205,2.172461440201201],[103.2235830609526,2.170912696788776],[103.2245879837597,2.169706954485868],[103.2250671323597,2.169197203358527],[103.2251545005594,2.169104325511574],[103.2252927350663,2.168967834272131],[103.2254441910899,2.168831883812277],[103.2257277206324,2.168640708067189],[103.2263562727013,2.168270019466971],[103.2266666805293,2.168088852272629],[103.2268182082771,2.167984029366959],[103.226909348163,2.167910753226731],[103.2270015762131,2.167806630021716],[103.2271106538237,2.167691530252591],[103.2274424826691,2.1672670518379],[103.227659890642,2.166924508701577],[103.227736898936,2.166787513361935],[103.2277772782642,2.16663904375235],[103.2278014014265,2.166451688324685],[103.2278068634505,2.165393163724983],[103.2277905545097,2.164857631215467],[103.2277702105488,2.163932673990194],[103.2277871188961,2.163638467540838],[103.2278108461942,2.163383539609472],[103.2278567015487,2.163074938660062],[103.2279826501915,2.162141597111439],[103.228047604331,2.161760470945205],[103.2280783673246,2.161642077553108],[103.228123450273,2.161494141678054],[103.2281910781,2.161352929078361],[103.2283451780276,2.16113091264973],[103.2284640175692,2.160986577255],[103.2289162142604,2.160459807963949],[103.2299764065769,2.159290714358673],[103.2301227095073,2.159121877828041],[103.2302295955132,2.159001359036574],[103.2303684337469,2.158863463497846],[103.2305178002589,2.158698521364597],[103.2306542122729,2.158514379851046],[103.2309219292861,2.158125257887495],[103.2310302691754,2.157984590933502],[103.2313726945425,2.157446972007039],[103.2316080729151,2.157121141214384],[103.2320129133173,2.156467378245686],[103.232426761821,2.155857650609103],[103.2334058764853,2.154311974427063],[103.2340779672285,2.153249335498737],[103.2349595838456,2.151782661621938],[103.235352961921,2.151175311079377],[103.2358376795051,2.150393458431076],[103.2364208375782,2.149506579326953],[103.2371857844762,2.148333627714828],[103.2384629499653,2.146297991774876],[103.2395299647355,2.144530000413673],[103.239967389547,2.143803620629878],[103.2400290172216,2.14369791842891],[103.2401032918529,2.143571235119805],[103.2402108954718,2.14343653649426],[103.2402785920873,2.143325336859221],[103.2404501078201,2.143138806999139],[103.2406233211666,2.14301975322809],[103.240848286413,2.142935213829958],[103.2411056653868,2.142845497109517],[103.2413160128908,2.142775950333504],[103.2414940580965,2.142704116542835],[103.2416334516092,2.142620909088178],[103.2417842029169,2.142502800599563],[103.2418686842045,2.142410628537556],[103.2419474355824,2.142265055045435],[103.2419744112264,2.142128776705779],[103.2419828306288,2.142002426116493],[103.2419836664185,2.141897884136107],[103.2419731951767,2.141752544338766],[103.2419197014343,2.141582053291144],[103.2417134256885,2.141039213264798],[103.2413827061335,2.139961777637591],[103.2412431273709,2.140009711164584],[103.241615614482,2.141091887940495],[103.2410991101348,2.141285363186971],[103.2405503949507,2.14151278049642],[103.2402204952587,2.141700656589525],[103.240027442364,2.141808395461993],[103.2398697031159,2.141541093696736],[103.2398169195275,2.141428309880052],[103.2396109148797,2.141090992738807],[103.2394661593127,2.140760594692664],[103.2393850755053,2.140512474923573],[103.2393075945912,2.140271069803597],[103.2392978455566,2.140155523482668],[103.2393960386073,2.139627183145691],[103.2396264723874,2.138658204575164],[103.2399546427447,2.137254424920337],[103.2403107085504,2.135740938405507],[103.2407432345322,2.133847675147593],[103.2411232082617,2.132294839485162],[103.2414246585101,2.131094619188169],[103.2416691316283,2.130110469558279],[103.2421204188692,2.128089910578154],[103.2424894940776,2.126637577122569],[103.2428479907758,2.125360329891599],[103.2430025888766,2.124678784634302],[103.2433846033665,2.122821893170658],[103.2434702857814,2.122360810030175],[103.2436035629544,2.121141672536143],[103.2436865203018,2.12079259753744],[103.2437504999,2.120519060235201],[103.2438131273954,2.120278193956719],[103.2439475152616,2.119868658922711],[103.2440917250101,2.119573330053472],[103.2443653997222,2.119098193141391],[103.2450299691506,2.118210355589384],[103.2455622944684,2.117487014839283],[103.2463700296559,2.116451324161417],[103.2476624149339,2.11468251896977],[103.248013130894,2.114145860569529],[103.2481554762853,2.113955957826093],[103.2483361817618,2.113716010598793],[103.2484899076519,2.113541783118716],[103.2487124290752,2.113380130246167],[103.2500323186792,2.112716194350592],[103.2517890629971,2.111967254708766],[103.2526223582271,2.111595900448368],[103.2533022943209,2.111223295535994],[103.2534897156488,2.11104286631085],[103.2536711603892,2.110828019644689],[103.2539989037354,2.110284018576337],[103.2540953045671,2.110019407557925],[103.2543824079387,2.109259323080327],[103.2544834764612,2.109110926890227],[103.254598865991,2.1089499630701],[103.2547521322308,2.108745983882795],[103.2559553499761,2.10766142980055],[103.256924609793,2.106776707316531],[103.2576711387343,2.105803896526856],[103.2585303221968,2.104892950177962],[103.2587056569526,2.104779875577342],[103.2591737576572,2.104477316257704],[103.2596106100086,2.104230067880775],[103.2598759701008,2.104040027534834],[103.260207507094,2.103868863297296],[103.2604388232862,2.103789709040805],[103.2607760858922,2.103668688060938],[103.2609527547208,2.103638705669783],[103.2620754488589,2.10363465947145],[103.2627942312829,2.103652529775366],[103.2628805553035,2.10364255461349],[103.2628993007415,2.103640563561505],[103.2629956532827,2.10362270953865],[103.2633421071115,2.103544664703201],[103.2638154278526,2.103390699007698],[103.2640650060124,2.103238899170311],[103.26423205063,2.103120449837641],[103.2650720737765,2.102484209702758],[103.2651920917281,2.102371064207479],[103.2653203760289,2.102265870159188],[103.2654442318493,2.102124633805386],[103.2655615186539,2.101955283961408],[103.2656657971548,2.101716459648088],[103.2657266011978,2.101518462331888],[103.2657692774943,2.101386219172727],[103.2658444160534,2.101080342149039],[103.2658792752888,2.100897680093333],[103.2658858196871,2.100455752212383],[103.265894866386,2.09932293195867],[103.2658994120063,2.098048001109639],[103.2659005703582,2.097087081631371],[103.2659157167905,2.096974994350036],[103.2659350596783,2.096792900260374],[103.2659861276977,2.09648745790632],[103.2660379490487,2.096269634315679],[103.2661418129831,2.096065274371493],[103.2662507507931,2.095898240233663],[103.2664835246372,2.095604927905015],[103.2667486641174,2.09538281404209],[103.2668367784116,2.09531549293015],[103.2671449259681,2.095131986578047],[103.2673696718188,2.094992726193173],[103.2675462363935,2.094898445729982],[103.267720067555,2.094864420947616],[103.268319568192,2.094882337899256],[103.2699068847443,2.095156677766105],[103.2702273303278,2.095225405457887],[103.2704382080836,2.095256947226937],[103.2707296946471,2.095279659078864],[103.2708774716987,2.095261446591995],[103.2715295998671,2.09521242018295],[103.2718801294557,2.095207053363306],[103.2723915429687,2.095298590257161],[103.2728306968397,2.095429160752008],[103.2729169248169,2.095506061817576],[103.2733335302274,2.096042668360899],[103.2740919497294,2.096759569938994],[103.2746755804878,2.097352475110825],[103.2753935240948,2.097995266217757],[103.2758574513835,2.098110105373116],[103.2761604863063,2.098043477426009],[103.2764925271715,2.097810353853129],[103.2767789608864,2.09744942035203],[103.2771361920864,2.096686143579221],[103.2773711660641,2.095950294191134],[103.2775381418809,2.095237498451418],[103.2776982032692,2.094766149767267],[103.2778658358969,2.094334390832821],[103.2779761683868,2.094169510920355],[103.2783584969075,2.093897582093264],[103.2792385057377,2.093310776952658],[103.2798897433967,2.092720406114551],[103.2815596943111,2.091200496217032],[103.2833979401184,2.089428115926122],[103.2836923573263,2.08917621018269],[103.2841419097459,2.088869032645124],[103.2845509839612,2.088664535477186],[103.2854579745844,2.088256662047191],[103.2861721801708,2.087833378662034],[103.2863170440161,2.087709770619632],[103.2869069860889,2.086949887743604],[103.2877197493623,2.085847663849286],[103.2889338703825,2.0842134037734],[103.289651818514,2.083282090769491],[103.290174444033,2.082722790241474],[103.2912432426054,2.081428534959279],[103.2921356132311,2.080252000186734],[103.2932106217836,2.078824298539453],[103.2942364820945,2.077504695410007],[103.2945944033088,2.077075374280404],[103.2954370776277,2.07603568867619],[103.2963381611269,2.074945578056638],[103.2969221556409,2.074109860726235],[103.2970381941506,2.073879602983472],[103.2971725833721,2.073500672899056],[103.2973833015346,2.072968733680235],[103.2975026451415,2.0727179866349],[103.2977304495354,2.072382926175636],[103.2985036167089,2.071161922723016],[103.299252762687,2.070018286298057],[103.3003407791695,2.068351833308235],[103.3011438379834,2.067158990325051],[103.3020434533576,2.065882240789582],[103.3031401314878,2.064270039346605],[103.3040267260883,2.062979628287951],[103.3041172463977,2.062838457321493],[103.3042084956548,2.062735325504826],[103.3043272494045,2.062651116884333],[103.3044324506052,2.062648332980124],[103.3063137753826,2.063750964267464],[103.3066488447832,2.063960008015697],[103.307133263806,2.064265869972812],[103.3074085570992,2.064389494329907],[103.3076684558505,2.06434449528924],[103.3081483910469,2.06365534038874],[103.3089051275916,2.062554982051531],[103.3089951936713,2.062397269258538],[103.309082406304,2.062171412589286],[103.3092479035335,2.061784024714395],[103.3097123952628,2.061159940449209],[103.3106066164882,2.059918550575353],[103.3115169630247,2.058710767783025],[103.3119791635233,2.058043751903174],[103.3122822271605,2.057618966925215],[103.3128753835036,2.056845482962008],[103.3132570968317,2.056301376197616],[103.3137261823059,2.055612000896987],[103.3145053864675,2.054507498069517],[103.3150423952201,2.053791044762152],[103.3154931690992,2.053185816349547],[103.3162445680897,2.052217309422004],[103.3170243155879,2.051219709661487],[103.3175315453825,2.050526175559769],[103.3184646496141,2.049212058328545],[103.3191199563008,2.048125864393298],[103.319691275137,2.047011140857235],[103.319782694196,2.04672562868274],[103.3201728293372,2.045229837026975],[103.3203865251578,2.04440663827336],[103.3204477637596,2.044083206731455],[103.3206217777379,2.043640946151545],[103.3206707327148,2.043357549259995],[103.3206266972525,2.04318031637419],[103.3205397162017,2.043133504646186],[103.320206756654,2.043014840984616],[103.3204672475324,2.042545217332112],[103.3212471476142,2.04136763688827],[103.3214915559351,2.040967491962296],[103.3215634474796,2.04072823836195],[103.3215976907615,2.040401134443155],[103.3215624192154,2.039965418995103],[103.3214566391745,2.039228456029527],[103.3210508171672,2.039299464180205],[103.3204400893974,2.039285926599114],[103.3199698100892,2.039225214483062],[103.3195724342903,2.039161798254061],[103.3191865084581,2.039092497309011],[103.3182753567913,2.038804541360557],[103.3176559573876,2.038650681772388],[103.3173051325865,2.038638577134966],[103.3169811006245,2.038614417844434],[103.3167639824772,2.038564938623233],[103.3167471972311,2.0385613098933],[103.316453152584,2.038435629504462],[103.3161390118302,2.038222663086811],[103.3159346860539,2.037961053047113],[103.3158127226737,2.03767007714747],[103.3158241438564,2.037372632251714],[103.3159421376932,2.036788102284147],[103.3164615492978,2.035047616207066],[103.3167366831607,2.034069902265229],[103.3170463040251,2.032865415377542],[103.3173705310494,2.031501648147809],[103.3174634786629,2.030979196089153],[103.3169944476994,2.030873910514438],[103.3167331455543,2.030783714460092],[103.3164204761986,2.03058493795647],[103.3161753088474,2.030380458405252],[103.3158157841554,2.030088537883526],[103.3155032927915,2.029821212309121],[103.315318222543,2.02960372896671],[103.3152261155809,2.029474986793081],[103.3152122357024,2.029428063498542],[103.315240277066,2.02936127926148],[103.3155867527334,2.029102974168284],[103.3158529473313,2.028922158718256],[103.3160747170437,2.028752178684038],[103.3161474123761,2.028619126395123],[103.3162245794251,2.028439903862035],[103.3162562125779,2.028307580220064],[103.3163054342231,2.028255526024382],[103.316371459587,2.028206432881579],[103.3164345772157,2.028210862998379],[103.316832023879,2.0285380854023],[103.3175345322396,2.029171485769126],[103.3178438399417,2.029483889020296],[103.3180849203495,2.029689609920089],[103.318429316464,2.029860708916825],[103.3190175112195,2.030084740159424],[103.3195903515649,2.030358358307149],[103.3204219964118,2.030675698498761],[103.3211015465583,2.030935806723305],[103.3217460994186,2.031162555985234],[103.322250294182,2.031373974893609],[103.32272653735,2.031545618763458],[103.3229452637702,2.031643050097538],[103.3230220936007,2.03176876764499],[103.3229923575457,2.031871082928197],[103.3228593519402,2.032086602165653],[103.322745615457,2.032358240437186],[103.3227077681183,2.032545614901817],[103.3227267607903,2.032728368349526],[103.3229224288411,2.033593411760153],[103.3230021751564,2.033834233534065],[103.323080064825,2.034056969608861],[103.3231964184085,2.034260832784143],[103.3233486844694,2.034495153976989],[103.3231628937305,2.034804380181361],[103.3229709673479,2.035055522185515],[103.3227058049154,2.03542545813556],[103.3224133247351,2.035914541096669],[103.3231103882275,2.036490091156431],[103.3233381002774,2.036311295852804],[103.3235049734661,2.036232894307862],[103.3236825764956,2.035997269485348],[103.3241781358283,2.035348333361182],[103.3243908437841,2.035549049376789],[103.3250166697325,2.036139547842768],[103.3255021057465,2.03659211995415],[103.3259038820538,2.037004665888397],[103.3260472678126,2.037180931749377],[103.3261056570137,2.037306747476194],[103.3261012113021,2.037401164545818],[103.3260105189533,2.037477899191276],[103.3255759348026,2.037692948613012],[103.32474142125,2.038056256908011],[103.323863303336,2.038405212219759],[103.3233116137758,2.03863904491221],[103.3229101483412,2.038775596803941],[103.3226586347065,2.038859168124639],[103.3222623958859,2.039021860321817],[103.3213900616187,2.039297986412044],[103.3214605262344,2.039788239505465],[103.3215281160294,2.040173044764008],[103.3215110995888,2.040670651422058],[103.3215038270657,2.040678842869454],[103.3214046643101,2.040994780570716],[103.3210581645391,2.041491358320945],[103.3201105386427,2.043016143381291],[103.3205094579193,2.043173414643408],[103.3205867398978,2.043218993358126],[103.3206035749694,2.043338543864455],[103.3206023876801,2.043496718291013],[103.3204682451848,2.043861148627078],[103.3203786864397,2.044146431142085],[103.320223977549,2.044835166006002],[103.3197708096808,2.046533685429624],[103.3196132054569,2.047032071522206],[103.3191159700813,2.048020221248432],[103.3187746611526,2.048554972874199],[103.3179815585095,2.049802633788748],[103.3168787580538,2.051284326552059],[103.315277546326,2.05340424440215],[103.3137727325823,2.055450152778809],[103.3126911942159,2.056953096686769],[103.3113443287558,2.058811223776238],[103.3101342393945,2.060504455929978],[103.3098203549491,2.060933966565359],[103.3095291208313,2.061337806930772],[103.3091266021224,2.061931920608696],[103.3090509543047,2.062145978343415],[103.3089834705383,2.062338534238731],[103.3087991755581,2.062653383066691],[103.3085610476496,2.062985861882705],[103.3076968302659,2.064210781761043],[103.3075926572974,2.064314864285439],[103.3074641508897,2.064310507895759],[103.3073718872002,2.064293059054554],[103.3072340289384,2.064232371116246],[103.3049824879271,2.06288939005959],[103.3046643721703,2.062687541516628],[103.3043039477044,2.062493457944646],[103.3037915239799,2.063248455522759],[103.3025345431676,2.065081282228895],[103.3011854427819,2.067008750700236],[103.3000076706118,2.068781627036679],[103.2990128995106,2.070328088576546],[103.2980499530143,2.071755794941389],[103.2975070543597,2.072624338680116],[103.2973422309527,2.072958818614978],[103.297170459271,2.073387211186109],[103.297037055656,2.073735559767205],[103.2968784451893,2.074131301952126],[103.2963838343845,2.074783362849142],[103.296008238021,2.075261794398161],[103.2945955614431,2.076995261456874],[103.2933441158425,2.07855409960101],[103.2923126128971,2.079927524657351],[103.2912214705355,2.081363136684093],[103.2909972931027,2.081658429154907],[103.2906305996033,2.082135032404834],[103.2899743404483,2.082893771650657],[103.2894849190298,2.08341634980306],[103.2892550805809,2.083732451013065],[103.2889795574442,2.084089464399987],[103.2878495578752,2.085614657657983],[103.286816801366,2.086986218088643],[103.2866224354423,2.087254432576217],[103.2863686529064,2.087564762244731],[103.2862150967992,2.087715739097105],[103.2860674751634,2.087854772524532],[103.284974196365,2.088425884339749],[103.2843149726039,2.088729734169332],[103.2840416352258,2.088906434056936],[103.2837852798054,2.08905263659757],[103.2834897100819,2.089309246084577],[103.2819612372012,2.090729841432712],[103.2808515267904,2.091771426147313],[103.2803577569082,2.092214147864256],[103.2794459512689,2.093014863301763],[103.2791996954227,2.093256516846469],[103.2778531368853,2.094191139435068],[103.2777390350116,2.094422811657958],[103.2776359587778,2.094704542987438],[103.2772716528892,2.095988093551392],[103.2771481178464,2.096356628452869],[103.27683743868,2.097179137359164],[103.2768294439128,2.097196316087753],[103.2766397948546,2.097491816328474],[103.2764771921495,2.097708238985528],[103.2762882812038,2.097879406680683],[103.2761158963952,2.097986413161488],[103.2759436461867,2.098020865552695],[103.275770231559,2.098020886020327],[103.2755723371824,2.097991384472514],[103.2753924184939,2.097898826043066],[103.2742150044347,2.096797839367249],[103.2735953453054,2.09619399383118],[103.2732820266893,2.095878091638656],[103.2730505636403,2.095579674852455],[103.2728631238301,2.095384131814629],[103.2727528626052,2.095353928362507],[103.2722830881774,2.095241429595268],[103.272033136696,2.095202312320904],[103.2717798520382,2.095182876940469],[103.271214879141,2.095199129487627],[103.2707694616581,2.095231751419831],[103.2704728161944,2.09521546217652],[103.2700124618601,2.095163650342932],[103.2697189633161,2.095086890252683],[103.2690350816144,2.094961556482684],[103.2684865341721,2.094865416525684],[103.2681382991258,2.094838508861314],[103.2676191451287,2.094858737752035],[103.2673493348116,2.094964340881598],[103.2670393865642,2.095174997143331],[103.2666557397038,2.09542054979895],[103.2663334873461,2.095764849853141],[103.2660474987235,2.096157300566015],[103.2659271747038,2.096546322917233],[103.265892870611,2.096944678369225],[103.2658619927835,2.098162166482174],[103.2658630925532,2.10033408080252],[103.2658686811815,2.100619680659852],[103.2658364195998,2.100924615123843],[103.2657496268065,2.101342041320798],[103.2656174488222,2.101735236283211],[103.2654538256388,2.102042458259495],[103.2653299466936,2.102184372882598],[103.2650216585001,2.102483477032322],[103.2641722694102,2.103104928881978],[103.2639347077398,2.103265075154557],[103.2638060343923,2.103348978973204],[103.263544282901,2.103447012356915],[103.263311864225,2.103520554233636],[103.2631185228489,2.103564255689964],[103.2628513308553,2.103603875822631],[103.2625880846638,2.103603900140423],[103.2618052171115,2.103583120710133],[103.2613410130838,2.103587212843741],[103.2610045312534,2.103591298914164],[103.2608392998161,2.103636150463084],[103.2606282348872,2.103689619765783],[103.2601707077765,2.103844587046755],[103.2594740598146,2.104251901664544],[103.2592911286574,2.104359366073912],[103.2588513859757,2.10462643170502],[103.2582297472439,2.105126121663807],[103.2578724187091,2.105528042802788],[103.2568019064922,2.106721915006204],[103.2565421123351,2.107022843593274],[103.2555839489299,2.107877217624643],[103.2552406880227,2.108207257511944],[103.2549529632809,2.108446933534035],[103.2545310539699,2.108928121346684],[103.2543869655348,2.109138111192429],[103.2542988615762,2.109344545991631],[103.2540106985411,2.110084944366509],[103.2539084277747,2.110316441342095],[103.2538048619542,2.110523045867787],[103.2536754166995,2.110705346884088],[103.2535606646568,2.110852261819836],[103.2534277136469,2.111011560441272],[103.2533121379736,2.111110162733508],[103.2531825699844,2.111223671935519],[103.2519572253674,2.111838206415404],[103.2513196916983,2.112126351763438],[103.2500916018066,2.112639539647878],[103.2497033625692,2.112855029675192],[103.248935253401,2.113204424045727],[103.248548578681,2.113457552226016],[103.2483616757956,2.11362174323267],[103.2476799227946,2.114603970363835],[103.2468857206582,2.1156694386833],[103.2461012917948,2.116744343456916],[103.2455968754614,2.117354711630163],[103.2450367115692,2.118094279844189],[103.2444960182955,2.118838659768197],[103.2442275884894,2.119218956975766],[103.2440921558488,2.119433574949765],[103.2439732277268,2.119733018060185],[103.2437189843226,2.120425097387849],[103.2436293702561,2.120798821216559],[103.2434716715952,2.121916462731258],[103.2434275401136,2.122265872026484],[103.2433885597839,2.122563451411391],[103.2429919561108,2.12441493656995],[103.2426240621914,2.125929534136845],[103.2421541699669,2.127772105682085],[103.2415206603387,2.130510720329753],[103.2407207289791,2.133724544451328],[103.2402581477667,2.135782554103986],[103.2396341011873,2.138478415747155],[103.2393086580133,2.13983838839236],[103.2392728553736,2.140012535162692],[103.2392579023212,2.140140239613125],[103.2392446982527,2.140235706857005],[103.2392919839306,2.140413354566961],[103.2393637706413,2.140605770440968],[103.239639442419,2.141223881021839],[103.2400325825377,2.141977919444068],[103.2400973128674,2.142282117710542],[103.2401471415202,2.142616533387929],[103.2401425464943,2.14301724211185],[103.2400959739663,2.14334366466046],[103.2399890665447,2.143652465499077],[103.2390524088105,2.145217561494841],[103.2375916781369,2.147592990307457],[103.2363304271714,2.149540486355483],[103.2343514096898,2.15270082256995],[103.2327815326558,2.155225828072659],[103.2311281029073,2.157774236737982],[103.2308249749544,2.158182049487176],[103.2306675985521,2.158419063802723],[103.2304123140564,2.15873410355625],[103.2294437540787,2.159826437415823],[103.2287813164824,2.160553703395363],[103.2284672183595,2.16091270816525],[103.2283243709873,2.161090331310484],[103.2281781366945,2.161264702697747],[103.2281726324031,2.161277991408243],[103.228095168395,2.161430718395917],[103.2280398472817,2.161582779436095],[103.2279945209209,2.161830396785386],[103.2277484439503,2.163576296033048],[103.2277415211121,2.16379652364457],[103.2277299052216,2.164081181879094],[103.2277342545952,2.164517535993722],[103.2277706241415,2.16629639016753],[103.2277516326958,2.166443910028045],[103.2277436733577,2.166590905398007],[103.227693321929,2.166737193125102],[103.2276014620445,2.166919481277882],[103.2274618978275,2.167131365374382],[103.2272958656606,2.16737071949797],[103.227035189697,2.167694983322581],[103.2269512075775,2.167806816153575],[103.226832574215,2.167916803435571],[103.2266762808162,2.167999675812052],[103.2261267474379,2.168339270265983],[103.2258366247038,2.168502833682924],[103.225615763469,2.168656691322333],[103.2254786245866,2.168731531983546],[103.2252986468431,2.168884360960492],[103.2244663193272,2.169780348875429],[103.2233583582156,2.171110567874446],[103.2220994771801,2.172566505673294],[103.2211405768396,2.17381715740216],[103.2204805785447,2.174733175847829],[103.2199257819206,2.175434980615821],[103.2196485770833,2.175754818879374],[103.2193338340735,2.176083255476291],[103.2175292181206,2.178163554063655],[103.2163582472092,2.179484891545264],[103.216084876993,2.179743348077841],[103.2158285661966,2.179984931284164],[103.2155697256447,2.180206645227183],[103.2143254021194,2.180932902424845],[103.2138714456223,2.181159385298849],[103.2118680179493,2.182036154336419],[103.2115480809685,2.182140079219546],[103.2112977723316,2.182210468416206],[103.2108986183208,2.18231374297577],[103.2091451564361,2.182733498529536],[103.2072032700195,2.183279634106001],[103.2065991805503,2.183508141093975],[103.204031703731,2.184530308130714],[103.2020470809597,2.185226327328071],[103.2017977274409,2.185278289857169],[103.2015987633498,2.185300717945661],[103.2013732992953,2.185330765396671],[103.2004374461853,2.185353440236473],[103.199932806159,2.185387592716406],[103.1995756566115,2.185361042108772],[103.1991691037049,2.185364846740142],[103.198404386936,2.185230179146194],[103.1980690267587,2.185153142363235],[103.1977817213747,2.185048544850831],[103.1975241730536,2.18497759480007],[103.1973240357704,2.184938978339841],[103.1970823957083,2.184942488194907],[103.1966073972275,2.185059319849451],[103.1964245079631,2.185153210011163],[103.196342601547,2.185256194797863],[103.1962617799643,2.185445110740503],[103.1961816193738,2.185569525404029],[103.1954252459466,2.186271665680712],[103.1938960951307,2.187806922857507],[103.1934460037023,2.188294672676288],[103.1944227323157,2.189435924299448],[103.1942795457898,2.18955808095409]]}}]};</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">    let pois = [{"name":"STESEN BAS PALOH","lat":"2.18976248","lng":"103.19430897"},{"name":"PEJABAT POS PALOH","lat":"2.18677917","lng":"103.19513912"},{"name":"SJK C CENTRAL PALOH","lat":"2.17494961","lng":"103.22042356"},{"name":"PONDOL POLIS CAMEK","lat":"2.14049408","lng":"103.23938709"},{"name":"CHAMEK MS TRADING SDN BHD","lat":"2.13221121","lng":"103.24117662"},{"name":"TAMAN KIARAMAS","lat":"2.06363288","lng":"103.30609228"},{"name":"KLUANG MALL","lat":"2.03919086","lng":"103.32007995"},{"name":"IBUPEJABAT POLIS KLUANG","lat":"2.03053089","lng":"103.31646209"},{"name":"KLUANG HIGH SCHOOL","lat":"2.03001273","lng":"103.31575801"},{"name":"Terminal Bas dan Teksi Kluang","lat":"2.03617833","lng":"103.32281360"},{"name":"SMK Seri Perdana","lat":"2.05751515","lng":"103.31226178"},{"name":"KLUANG SAFETY DRIVING CENTER SDN BHD","lat":"2.07625124","lng":"103.29512763"},{"name":"SRI MAHA MAYANA KALIAMMAN","lat":"2.10717278","lng":"103.25646665"},{"name":"KOPERASI PESERTA FELCRA PALOH  BERHAD","lat":"2.18882665","lng":"103.19394775"},{"name":"STESEN BAS PALOH","lat":"2.18976248","lng":"103.19430897"}];</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">    let imageBusStop = 'https://live.paj.com.my/assets/bus-stop-marker.png';</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">    let imageArrows = 'https://live.paj.com.my/assets/arrow-markers-red.png';</td></tr><tr><td class="line-number" value="228"></td><td class="line-content">    let imageBus = 'https://live.paj.com.my/assets/bus-marker.png';</td></tr><tr><td class="line-number" value="229"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">    // Convert POIs to GeoJSON format</td></tr><tr><td class="line-number" value="231"></td><td class="line-content">    const poisGeoJSON = {</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="233"></td><td class="line-content">        features: pois.map(poi =&gt; ({</td></tr><tr><td class="line-number" value="234"></td><td class="line-content">            type: 'Feature',</td></tr><tr><td class="line-number" value="235"></td><td class="line-content">            geometry: {</td></tr><tr><td class="line-number" value="236"></td><td class="line-content">                type: 'Point',</td></tr><tr><td class="line-number" value="237"></td><td class="line-content">                coordinates: [parseFloat(poi.lng), parseFloat(poi.lat)]</td></tr><tr><td class="line-number" value="238"></td><td class="line-content">            },</td></tr><tr><td class="line-number" value="239"></td><td class="line-content">            properties: {</td></tr><tr><td class="line-number" value="240"></td><td class="line-content">                name: poi.name</td></tr><tr><td class="line-number" value="241"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="242"></td><td class="line-content">        }))</td></tr><tr><td class="line-number" value="243"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="244"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="245"></td><td class="line-content">    // Create initial bus GeoJSON with empty features</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">    const busGeoJSON = {</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">        features: []</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="250"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="251"></td><td class="line-content">    mapboxgl.accessToken = 'pk.eyJ1IjoiYWxpZmRhcnNpbSIsImEiOiJjbTRjZ3djcmIwNTMxMmlxcGZvZWx1eTFqIn0.X3VV1PhXekp3_HAwoB6kbw';</td></tr><tr><td class="line-number" value="252"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="253"></td><td class="line-content">    // Initialize map with default center</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">    const map = new mapboxgl.Map({</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">        container: 'map',</td></tr><tr><td class="line-number" value="256"></td><td class="line-content">        style: 'mapbox://styles/mapbox/streets-v12',</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">        center: [103.317818, 2.029433],</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">        zoom: 8</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="260"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="261"></td><td class="line-content">    // Wait for map to load before adding layers</td></tr><tr><td class="line-number" value="262"></td><td class="line-content">    map.on('load', () =&gt; {</td></tr><tr><td class="line-number" value="263"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="264"></td><td class="line-content">        // Load both bus stop and bus icons</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">        Promise.all([</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">                map.loadImage(imageBusStop, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">                    map.addImage('bus-stop-icon', image);</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="272"></td><td class="line-content">            }),</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="274"></td><td class="line-content">                map.loadImage(imageBus, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="275"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="276"></td><td class="line-content">                    map.addImage('bus-icon', image);</td></tr><tr><td class="line-number" value="277"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="278"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="279"></td><td class="line-content">            }),</td></tr><tr><td class="line-number" value="280"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="281"></td><td class="line-content">                map.loadImage(imageArrows, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">                    map.addImage('arrow-icon', image);</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">            })</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">        ]).then(() =&gt; {</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">            // Add the route source</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">            map.addSource('route', {</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">                'data': geojson</td></tr><tr><td class="line-number" value="292"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="293"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="294"></td><td class="line-content">            // Add the bus stops source</td></tr><tr><td class="line-number" value="295"></td><td class="line-content">            map.addSource('bus-stops', {</td></tr><tr><td class="line-number" value="296"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">                'data': poisGeoJSON</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="299"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="300"></td><td class="line-content">            // Add the bus source</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">            map.addSource('bus', {</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">                'data': busGeoJSON</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="305"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="306"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="307"></td><td class="line-content">            // Add the arrow layer</td></tr><tr><td class="line-number" value="308"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="309"></td><td class="line-content">                'id': 'route-arrows',</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">                'source': 'route',</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="313"></td><td class="line-content">                    'symbol-placement': 'line',</td></tr><tr><td class="line-number" value="314"></td><td class="line-content">                    'symbol-spacing': 25,</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">                    'icon-image': 'arrow-icon',</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">                    'icon-size': 0.3,</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">                    'icon-ignore-placement': true,</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">                    'icon-rotation-alignment': 'map',</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">                    'icon-pitch-alignment': 'map'</td></tr><tr><td class="line-number" value="321"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="322"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="323"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="324"></td><td class="line-content">            // Add the route layer</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">                'id': 'route',</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">                'type': 'line',</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">                'source': 'route',</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">                    'line-join': 'round',</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">                    'line-cap': 'round'</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">                    'line-color': '#ff0000',</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">                    'line-width': 3</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="338"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="339"></td><td class="line-content">            // Add the bus stops layer</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">                'id': 'bus-stops',</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">                'source': 'bus-stops',</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">                    'icon-anchor': 'bottom',</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">                    'icon-image': 'bus-stop-icon',</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">                    'icon-size': [</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">                        'interpolate',</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">                        ['linear'],</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">                        ['zoom'],</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">                        10, 0.45,</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">                        13, 0.55,</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">                        16, 0.65</td></tr><tr><td class="line-number" value="354"></td><td class="line-content">                    ],</td></tr><tr><td class="line-number" value="355"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">                    'text-field': ['get', 'name'],</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">                    'text-size': 11.5,</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">                    'text-offset': [0, -1.8],</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">                    'text-anchor': 'bottom',</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">                    'text-optional': true,</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">                    'text-font': ['Arial Unicode MS Bold'],</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">                    'text-halo-color': '#ffffff',</td></tr><tr><td class="line-number" value="365"></td><td class="line-content">                    'text-halo-width': 1,</td></tr><tr><td class="line-number" value="366"></td><td class="line-content">                    'text-color': '#6884D9',</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="369"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="370"></td><td class="line-content">            // Add the bus layer</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="372"></td><td class="line-content">                'id': 'bus',</td></tr><tr><td class="line-number" value="373"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="374"></td><td class="line-content">                'source': 'bus',</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">                    'icon-anchor': 'bottom',</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">                    'icon-image': 'bus-icon',</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                    'icon-size': [</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">                        'interpolate',</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">                        ['linear'],</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">                        ['zoom'],</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">                        10, 0.65,</td></tr><tr><td class="line-number" value="383"></td><td class="line-content">                        13, 0.75,</td></tr><tr><td class="line-number" value="384"></td><td class="line-content">                        16, 0.85</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">                    ],</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">                    'text-field': ['get', 'busId'],</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">                    'text-size': 12,</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">                    'text-offset': [0, -2.1],</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">                    'text-anchor': 'bottom',</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">                    'text-optional': true,</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">                    'text-font': ['Arial Unicode MS Bold']</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">                    'text-halo-color': '#ffffff',</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">                    'text-halo-width': 1,</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">                    'text-color': '#ff3c00'</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="400"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="401"></td><td class="line-content">            // Add popup on click for buses</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">            map.on('click', 'bus', (e) =&gt; {</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">                const coordinates = e.features[0].geometry.coordinates.slice();</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">                const busId = e.features[0].properties.busId;</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">                const lastUpdate = new Date(e.features[0].properties.lastUpdate).toLocaleString();</td></tr><tr><td class="line-number" value="406"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="407"></td><td class="line-content">                new mapboxgl.Popup({</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">                    anchor: 'bottom',</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">                    offset: [0, -40]</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">                })</td></tr><tr><td class="line-number" value="411"></td><td class="line-content">                    .setLngLat(coordinates)</td></tr><tr><td class="line-number" value="412"></td><td class="line-content">                    .setHTML(`</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">                        &lt;p class="bus-stop-name"&gt;Bus ${busId}&lt;/p&gt;</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">                        &lt;p style="margin: 5px 0 0 0; font-size: 12px;"&gt;Update: ${lastUpdate}&lt;/p&gt;</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">                    `)</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="418"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="419"></td><td class="line-content">            // Change cursor on hover for buses</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">            map.on('mouseenter', 'bus', () =&gt; {</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">                map.getCanvas().style.cursor = 'pointer';</td></tr><tr><td class="line-number" value="422"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="423"></td><td class="line-content">            map.on('mouseleave', 'bus', () =&gt; {</td></tr><tr><td class="line-number" value="424"></td><td class="line-content">                map.getCanvas().style.cursor = '';</td></tr><tr><td class="line-number" value="425"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="426"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="427"></td><td class="line-content">            // Add popup on click for bus stops</td></tr><tr><td class="line-number" value="428"></td><td class="line-content">            map.on('click', 'bus-stops', (e) =&gt; {</td></tr><tr><td class="line-number" value="429"></td><td class="line-content">                const coordinates = e.features[0].geometry.coordinates.slice();</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">                const name = e.features[0].properties.name;</td></tr><tr><td class="line-number" value="431"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="432"></td><td class="line-content">                new mapboxgl.Popup()</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">                    .setLngLat(coordinates)</td></tr><tr><td class="line-number" value="434"></td><td class="line-content">                    .setHTML(`&lt;p class="bus-stop-name"&gt;${name}&lt;/p&gt;`)</td></tr><tr><td class="line-number" value="435"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="437"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="438"></td><td class="line-content">            // Change cursor on hover for bus stops</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">            map.on('mouseenter', 'bus-stops', () =&gt; {</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">                map.getCanvas().style.cursor = 'pointer';</td></tr><tr><td class="line-number" value="441"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="442"></td><td class="line-content">            map.on('mouseleave', 'bus-stops', () =&gt; {</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">                map.getCanvas().style.cursor = '';</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="445"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="446"></td><td class="line-content">            // Get the bounds of all features</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">            const coordinates = geojson.features[0].geometry.coordinates;</td></tr><tr><td class="line-number" value="448"></td><td class="line-content">            const bounds = coordinates.reduce((bounds, coord) =&gt; {</td></tr><tr><td class="line-number" value="449"></td><td class="line-content">                return bounds.extend(coord);</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">            }, new mapboxgl.LngLatBounds(coordinates[0], coordinates[0]));</td></tr><tr><td class="line-number" value="451"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="452"></td><td class="line-content">            // Extend bounds to include POIs</td></tr><tr><td class="line-number" value="453"></td><td class="line-content">            pois.forEach(poi =&gt; {</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">                bounds.extend([parseFloat(poi.lng), parseFloat(poi.lat)]);</td></tr><tr><td class="line-number" value="455"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="456"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="457"></td><td class="line-content">            // Fit the map to the route with padding</td></tr><tr><td class="line-number" value="458"></td><td class="line-content">            map.fitBounds(bounds, {</td></tr><tr><td class="line-number" value="459"></td><td class="line-content">                padding: 50,</td></tr><tr><td class="line-number" value="460"></td><td class="line-content">                duration: 1000</td></tr><tr><td class="line-number" value="461"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="462"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="463"></td><td class="line-content">        }).catch(error =&gt; console.error('Error loading images:', error));</td></tr><tr><td class="line-number" value="464"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="465"></td><td class="line-content">        updateBusLocation();</td></tr><tr><td class="line-number" value="466"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="467"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="468"></td><td class="line-content">    // Function to fetch and update bus location</td></tr><tr><td class="line-number" value="469"></td><td class="line-content">    function updateBusLocation() {</td></tr><tr><td class="line-number" value="470"></td><td class="line-content">        $.ajax({</td></tr><tr><td class="line-number" value="471"></td><td class="line-content">            url: `https://live.paj.com.my/get/KL004`,</td></tr><tr><td class="line-number" value="472"></td><td class="line-content">            method: 'get',</td></tr><tr><td class="line-number" value="473"></td><td class="line-content">            cache: false,</td></tr><tr><td class="line-number" value="474"></td><td class="line-content">            dataType: "json",</td></tr><tr><td class="line-number" value="475"></td><td class="line-content">            success: function(result) {</td></tr><tr><td class="line-number" value="476"></td><td class="line-content">                if (result.success) {</td></tr><tr><td class="line-number" value="477"></td><td class="line-content">                    let arrayData = Object.values(result.data);</td></tr><tr><td class="line-number" value="478"></td><td class="line-content">                    // Update bus positions in GeoJSON</td></tr><tr><td class="line-number" value="479"></td><td class="line-content">                    const newBusGeoJSON = {</td></tr><tr><td class="line-number" value="480"></td><td class="line-content">                        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="481"></td><td class="line-content">                        features: arrayData.map(bus =&gt; ({</td></tr><tr><td class="line-number" value="482"></td><td class="line-content">                            type: 'Feature',</td></tr><tr><td class="line-number" value="483"></td><td class="line-content">                            geometry: {</td></tr><tr><td class="line-number" value="484"></td><td class="line-content">                                type: 'Point',</td></tr><tr><td class="line-number" value="485"></td><td class="line-content">                                coordinates: [bus.lng, bus.lat]</td></tr><tr><td class="line-number" value="486"></td><td class="line-content">                            },</td></tr><tr><td class="line-number" value="487"></td><td class="line-content">                            properties: {</td></tr><tr><td class="line-number" value="488"></td><td class="line-content">                                busId: bus.bus,</td></tr><tr><td class="line-number" value="489"></td><td class="line-content">                                title: `Bus ${bus.bus}`,</td></tr><tr><td class="line-number" value="490"></td><td class="line-content">                                lastUpdate: bus.time</td></tr><tr><td class="line-number" value="491"></td><td class="line-content">                            }</td></tr><tr><td class="line-number" value="492"></td><td class="line-content">                        }))</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="494"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="495"></td><td class="line-content">                    try {</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">                        map.getSource('bus').setData(newBusGeoJSON);</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">                        // Update the sliding cards</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">                        updateBusCards(arrayData);</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">                    } catch (e) {</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">                        // console.error('Error updating map:', e);</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="503"></td><td class="line-content">                    // console.log('Error:', result.message);</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="506"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="507"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="508"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="509"></td><td class="line-content">    // Function to update bus cards</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">    function updateBusCards(busData) {</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">        const busCardsContainer = document.getElementById('busCards');</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">        busCardsContainer.innerHTML = ''; // Clear existing cards</td></tr><tr><td class="line-number" value="513"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="514"></td><td class="line-content">        if (busData.length &lt; 3) {</td></tr><tr><td class="line-number" value="515"></td><td class="line-content">            // Center the container for a single bus</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">            busCardsContainer.style.display = 'flex';</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">            busCardsContainer.style.justifyContent = 'center';</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">        } else {</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">            // Restore default styles for multiple buses</td></tr><tr><td class="line-number" value="520"></td><td class="line-content">            busCardsContainer.style.display = 'block';</td></tr><tr><td class="line-number" value="521"></td><td class="line-content">            busCardsContainer.style.justifyContent = ''; // Clear the justifyContent</td></tr><tr><td class="line-number" value="522"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="523"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="524"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="525"></td><td class="line-content">        busData.forEach(bus =&gt; {</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">            const card = document.createElement('div');</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">            card.className = 'bus-card';</td></tr><tr><td class="line-number" value="528"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="529"></td><td class="line-content">            // Check if the last update is within the last 30 minutes</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">            const lastUpdateTime = new Date(bus.time);</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">            // const timeDifferenceInMinutes = (currentTime - lastUpdateTime) / (1000 * 60);</td></tr><tr><td class="line-number" value="532"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="533"></td><td class="line-content">            // if (timeDifferenceInMinutes &lt;= 30) {</td></tr><tr><td class="line-number" value="534"></td><td class="line-content">            //     card.style.background = 'rgb(20,192,80)'; // Light green background</td></tr><tr><td class="line-number" value="535"></td><td class="line-content">            // }</td></tr><tr><td class="line-number" value="536"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="537"></td><td class="line-content">            card.onclick = () =&gt; {</td></tr><tr><td class="line-number" value="538"></td><td class="line-content">                // Remove active class from all cards</td></tr><tr><td class="line-number" value="539"></td><td class="line-content">                document.querySelectorAll('.bus-card').forEach(c =&gt; c.classList.remove('active'));</td></tr><tr><td class="line-number" value="540"></td><td class="line-content">                // Add active class to clicked card</td></tr><tr><td class="line-number" value="541"></td><td class="line-content">                card.classList.add('active');</td></tr><tr><td class="line-number" value="542"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="543"></td><td class="line-content">                // Fly to bus location</td></tr><tr><td class="line-number" value="544"></td><td class="line-content">                map.flyTo({</td></tr><tr><td class="line-number" value="545"></td><td class="line-content">                    center: [bus.lng, bus.lat],</td></tr><tr><td class="line-number" value="546"></td><td class="line-content">                    zoom: 15,</td></tr><tr><td class="line-number" value="547"></td><td class="line-content">                    duration: 1000</td></tr><tr><td class="line-number" value="548"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="549"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="550"></td><td class="line-content">                // Show popup for the bus</td></tr><tr><td class="line-number" value="551"></td><td class="line-content">                new mapboxgl.Popup({</td></tr><tr><td class="line-number" value="552"></td><td class="line-content">                    anchor: 'bottom',</td></tr><tr><td class="line-number" value="553"></td><td class="line-content">                    offset: [0, -40]</td></tr><tr><td class="line-number" value="554"></td><td class="line-content">                })</td></tr><tr><td class="line-number" value="555"></td><td class="line-content">                    .setLngLat([bus.lng, bus.lat])</td></tr><tr><td class="line-number" value="556"></td><td class="line-content">                    .setHTML(`</td></tr><tr><td class="line-number" value="557"></td><td class="line-content">                    &lt;p class="bus-stop-name"&gt;Bus ${bus.bus}&lt;/p&gt;</td></tr><tr><td class="line-number" value="558"></td><td class="line-content">                    &lt;p style="margin: 0 0 0 0; font-size: 12px;"&gt;Update: ${lastUpdateTime.toLocaleString()}&lt;/p&gt;</td></tr><tr><td class="line-number" value="559"></td><td class="line-content">                `)</td></tr><tr><td class="line-number" value="560"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="561"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="562"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="563"></td><td class="line-content">            let time = new Date(bus.time);</td></tr><tr><td class="line-number" value="564"></td><td class="line-content">            let now = new Date();</td></tr><tr><td class="line-number" value="565"></td><td class="line-content">            let timeDifference = (now - time) / (1000 * 60); // Difference in minutes</td></tr><tr><td class="line-number" value="566"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="567"></td><td class="line-content">            let onlineStat = '';</td></tr><tr><td class="line-number" value="568"></td><td class="line-content">            // Apply green background if less than 30 minutes</td></tr><tr><td class="line-number" value="569"></td><td class="line-content">            if (timeDifference &lt; 30) {</td></tr><tr><td class="line-number" value="570"></td><td class="line-content">                // add a class to the card</td></tr><tr><td class="line-number" value="571"></td><td class="line-content">                onlineStat = `&lt;i class="fa-solid fa-signal-stream mt-1 fs-2 online" style="color: #0fa354 !important;"&gt;&lt;/i&gt;`;</td></tr><tr><td class="line-number" value="572"></td><td class="line-content">                card.classList.add('online');</td></tr><tr><td class="line-number" value="573"></td><td class="line-content">                card.classList.remove('offline');</td></tr><tr><td class="line-number" value="574"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="575"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="576"></td><td class="line-content">                // remove the class</td></tr><tr><td class="line-number" value="577"></td><td class="line-content">                onlineStat = `&lt;i class="fa-solid fa-signal-stream-slash mt-1 fs-2 offline" style="color: #ff274f !important;"&gt;&lt;/i&gt;`;</td></tr><tr><td class="line-number" value="578"></td><td class="line-content">                card.classList.remove('online');</td></tr><tr><td class="line-number" value="579"></td><td class="line-content">                card.classList.add('offline');</td></tr><tr><td class="line-number" value="580"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="581"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="582"></td><td class="line-content">            // Format time as dd/mm/yyyy hh:mm:ss AM/PM</td></tr><tr><td class="line-number" value="583"></td><td class="line-content">            let timeString = time.toLocaleString('en-GB', {hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true});</td></tr><tr><td class="line-number" value="584"></td><td class="line-content">            card.innerHTML = `</td></tr><tr><td class="line-number" value="585"></td><td class="line-content">                &lt;div class="d-flex justify-content-between"&gt;</td></tr><tr><td class="line-number" value="586"></td><td class="line-content">                    &lt;div class="d-flex"&gt;</td></tr><tr><td class="line-number" value="587"></td><td class="line-content">                        &lt;div class="legend-icon me-1" style="background-image: url(https://live.paj.com.my/assets/bus-marker.png)"&gt;&lt;/div&gt;</td></tr><tr><td class="line-number" value="588"></td><td class="line-content">                        &lt;p class="bus-id mb-0 fs-4 fw-bold"&gt;${bus.bus}&lt;/p&gt;</td></tr><tr><td class="line-number" value="589"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="590"></td><td class="line-content">                    ${onlineStat}</td></tr><tr><td class="line-number" value="591"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="592"></td><td class="line-content">                &lt;p class="last-update fs-7 fw-bold"&gt;&lt;i class="fa-solid fa-clock ms-1 me-2 text-primary"&gt;&lt;/i&gt;${timeString.toUpperCase()}&lt;/p&gt;</td></tr><tr><td class="line-number" value="593"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="594"></td><td class="line-content">            busCardsContainer.appendChild(card);</td></tr><tr><td class="line-number" value="595"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="597"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="598"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="599"></td><td class="line-content">    // interval to update bus location</td></tr><tr><td class="line-number" value="600"></td><td class="line-content">    setInterval(updateBusLocation, 10000);</td></tr><tr><td class="line-number" value="601"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="602"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="603"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span></td></tr><tr><td class="line-number" value="604"></td><td class="line-content"><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>