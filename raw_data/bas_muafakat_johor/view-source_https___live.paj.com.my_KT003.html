
<!-- saved from url=(0029)https://live.paj.com.my/KT003 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">Line wrap<input type="checkbox" aria-label="Line wrap"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">en</span>"&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">    <span class="html-tag">&lt;title&gt;</span>Jejak Kedudukan Bas Muafakat Johor<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">charset</span>="<span class="html-attribute-value">UTF-8</span>"&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">viewport</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">width=device-width, initial-scale=1.0</span>"&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">description</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">Jejak Kedudukan Bas Muafakat Johor</span>"/&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">shortcut icon</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/logo-paj.png" rel="noreferrer noopener">/assets/logo-paj.png</a>"/&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css" rel="noreferrer noopener">https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/plugins/global/plugins.bundle.css" rel="noreferrer noopener">/assets/plugins/global/plugins.bundle.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"/&gt;</span></td></tr><tr><td class="line-number" value="11"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/css/style.bundle.css" rel="noreferrer noopener">/assets/css/style.bundle.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>" <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/css</span>"/&gt;</span></td></tr><tr><td class="line-number" value="12"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css" rel="noreferrer noopener">https://site-assets.fontawesome.com/releases/v6.7.2/css/all.css</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="13"></td><td class="line-content">    <span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="14"></td><td class="line-content">        body {</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            padding: 0;</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">        #map {</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">            position: absolute;</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">            top: 0;</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">            bottom: 0;</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">        .legend-card {</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">            position: absolute;</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">            top: 10px;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">            right: 10px;</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">            background: white;</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">            padding: 15px;</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">            padding-top: 3px;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">            box-shadow: 0 2px 4px rgba(0,0,0,0.1);</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">            z-index: 1;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">            max-width: 200px;</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">        .legend-title {</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">            font-weight: 600;</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">            font-size: 14px;</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">            margin: 0 0 10px 0;</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">            color: #333;</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">        .legend-item {</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">            display: flex;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">            align-items: center;</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">            margin-bottom: 8px;</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="48"></td><td class="line-content">        .legend-item:last-child {</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">            margin-bottom: 0;</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">        .legend-icon {</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">            width: 20px;</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">            height: 20px;</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">            margin-right: 8px;</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">            background-size: contain;</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">            background-repeat: no-repeat;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">            background-position: center;</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">        .legend-text {</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">            font-size: 12px;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">            color: #666;</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">        .legend-route {</td></tr><tr><td class="line-number" value="64"></td><td class="line-content">            background-color: #ff0000;</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">            width: 20px;</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">            height: 3px;</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">            margin-right: 8px;</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">            border-radius: 2px;</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">        .mapboxgl-popup-content {</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">            padding: 15px;</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="74"></td><td class="line-content">        .bus-stop-name {</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">            font-weight: bold;</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">            color: #333;</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">            font-size: 14px;</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="80"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="81"></td><td class="line-content">        /* New styles for the sliding cards */</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">        .bus-cards-container {</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">            position: fixed;</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">            bottom: 30px;</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">            left: 50%;</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">            transform: translateX(-50%);</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">            /*height: 50px;*/</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">            background: transparent;</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">            overflow-x: auto;</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">            white-space: nowrap;</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">            padding-top: 10px;</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">            padding-bottom: 10px;</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">            padding-left: 10px;</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">            /*padding-bottom: 10px;*/</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">            scrollbar-width: none; /* Firefox */</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">            -ms-overflow-style: none; /* IE and Edge */</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">            z-index: 1000;</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">            max-width: 1200px;</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="101"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="102"></td><td class="line-content">        /*.bus-cards-container::-webkit-scrollbar {*/</td></tr><tr><td class="line-number" value="103"></td><td class="line-content">        /*    display: none; !* Chrome, Safari, Opera *!*/</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">        /*}*/</td></tr><tr><td class="line-number" value="105"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="106"></td><td class="line-content">        .bus-card {</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">            display: inline-block;</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">            width: 160px;</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">            height: 60px;</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">            margin-right: 10px;</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">            background: rgba(255, 255, 255, 0.9);</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">            border-radius: 8px;</td></tr><tr><td class="line-number" value="113"></td><td class="line-content">            padding: 10px;</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">            vertical-align: top;</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">            cursor: pointer;</td></tr><tr><td class="line-number" value="117"></td><td class="line-content">            transition: all 0.2s ease;</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">            backdrop-filter: blur(5px);</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; /* Add this line */</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="121"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="122"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">        .bus-card:hover {</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">            transform: translateY(-2px);</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="126"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="127"></td><td class="line-content">        .bus-card.active {</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">            background: #e3f2fd;</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">            border: 2px solid #2196f3;</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="131"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="132"></td><td class="line-content">        .bus-id {</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">            /*font-weight: bold;*/</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">            /*font-size: 16px;*/</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">            color: #434343;</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">            margin: 0 0 5px 0;</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="138"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="139"></td><td class="line-content">        .last-update {</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">            font-size: 12px;</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">            color: #666;</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">        .online {</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">            /*background: #0fa354;*/</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">        .offline {</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">            background: #dadada;</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">        /*.logo-container img {*/</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">        /*    height: 40px;*/</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">        /*    width: auto;*/</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">        /*}*/</td></tr><tr><td class="line-number" value="154"></td><td class="line-content"> .back-btn{</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">      display:inline-flex;</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">      align-items:center;</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">      gap:8px;</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">      margin-top:10px;</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">      padding:8px 12px;</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">      border-radius:8px;</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">      border:1px solid rgba(0,0,0,.08);</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">      background:#f4f6f8;</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">      font-size:12px;</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">      font-weight:600;</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">      color:#2b2e34;</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">      text-decoration:none;</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">      box-shadow:0 1px 2px rgba(0,0,0,.06);</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">      transition:transform .12s ease, background .12s ease;</td></tr><tr><td class="line-number" value="169"></td><td class="line-content">  }</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">  .back-btn:hover{ background:#e9ecef; transform:translateY(-1px); }</td></tr><tr><td class="line-number" value="171"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="172"></td><td class="line-content">  .legend-card{ z-index: 2001!important; } /* pastikan atas Mapbox controls */</td></tr><tr><td class="line-number" value="173"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="174"></td><td class="line-content">  .legend-nav {</td></tr><tr><td class="line-number" value="175"></td><td class="line-content">    display:flex; gap:8px; margin-top:10px; flex-wrap:wrap;</td></tr><tr><td class="line-number" value="176"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="177"></td><td class="line-content">.legend-btn {</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">    display:inline-flex; align-items:center; gap:6px;</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">    background:#f4f6f8; border:1px solid #e2e8f0; border-radius:8px;</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">    padding:8px 10px; font-size:12px; color:#333; text-decoration:none;</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">    box-shadow:0 1px 2px rgba(0,0,0,.05);</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">.legend-btn:hover { background:#eef2f6; }</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">.legend-btn .kecil { opacity:.7; font-weight:600; }</td></tr><tr><td class="line-number" value="185"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="186"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="187"></td><td class="line-content">    <span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="188"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="189"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://unpkg.com/@turf/turf@6.5.0/turf.min.js" rel="noreferrer noopener">https://unpkg.com/@turf/turf@6.5.0/turf.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="190"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="191"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="192"></td><td class="line-content"><span class="html-tag">&lt;body&gt;</span></td></tr><tr><td class="line-number" value="193"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">map</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="194"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">bus-cards-container</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">busCards</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="195"></td><td class="line-content"><span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-card text-center</span>"&gt;</span></td></tr><tr><td class="line-number" value="196"></td><td class="line-content">    <span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://live.paj.com.my/assets/logo-main.png" rel="noreferrer noopener">https://live.paj.com.my/assets/logo-main.png</a>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">logo-container mt-2</span>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">Logo</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">width: 70px; height: auto;</span>"&gt;</span></td></tr><tr><td class="line-number" value="197"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="198"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="199"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-icon</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">background-image: url(https://live.paj.com.my/assets/bus-marker.png)</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="200"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Bas<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="201"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="202"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="203"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-icon</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">background-image: url(https://live.paj.com.my/assets/bus-stop-marker.png)</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="204"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Perhentian<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="205"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="206"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-item</span>"&gt;</span></td></tr><tr><td class="line-number" value="207"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-route</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="208"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">legend-text</span>"&gt;</span>Laluan<span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="209"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="210"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="211"></td><td class="line-content">    <span class="html-comment">&lt;!-- NEW: Butang Kembali --&gt;</span></td></tr><tr><td class="line-number" value="212"></td><td class="line-content">    <span class="html-tag">&lt;a <span class="html-attribute-name">class</span>="<span class="html-attribute-value">back-btn</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-external-link" target="_blank" href="https://live.paj.com.my/" rel="noreferrer noopener">https://live.paj.com.my</a>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">btnBack</span>"&gt;</span></td></tr><tr><td class="line-number" value="213"></td><td class="line-content">        <span class="html-comment">&lt;!-- ikon anak panah kecil (SVG inline supaya tiada dependensi) --&gt;</span></td></tr><tr><td class="line-number" value="214"></td><td class="line-content">        <span class="html-tag">&lt;svg <span class="html-attribute-name">width</span>="<span class="html-attribute-value">14</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">14</span>" <span class="html-attribute-name">viewBox</span>="<span class="html-attribute-value">0 0 24 24</span>" <span class="html-attribute-name">fill</span>="<span class="html-attribute-value">none</span>" <span class="html-attribute-name">aria-hidden</span>="<span class="html-attribute-value">true</span>"&gt;</span></td></tr><tr><td class="line-number" value="215"></td><td class="line-content">          <span class="html-tag">&lt;path <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M10 19l-7-7 7-7</span>" <span class="html-attribute-name">stroke</span>="<span class="html-attribute-value">#2b2e34</span>" <span class="html-attribute-name">stroke-width</span>="<span class="html-attribute-value">2</span>" <span class="html-attribute-name">stroke-linecap</span>="<span class="html-attribute-value">round</span>" <span class="html-attribute-name">stroke-linejoin</span>="<span class="html-attribute-value">round</span>"/&gt;</span></td></tr><tr><td class="line-number" value="216"></td><td class="line-content">          <span class="html-tag">&lt;path <span class="html-attribute-name">d</span>="<span class="html-attribute-value">M3 12h18</span>" <span class="html-attribute-name">stroke</span>="<span class="html-attribute-value">#2b2e34</span>" <span class="html-attribute-name">stroke-width</span>="<span class="html-attribute-value">2</span>" <span class="html-attribute-name">stroke-linecap</span>="<span class="html-attribute-value">round</span>" <span class="html-attribute-name">stroke-linejoin</span>="<span class="html-attribute-value">round</span>"/&gt;</span></td></tr><tr><td class="line-number" value="217"></td><td class="line-content">        <span class="html-tag">&lt;/svg&gt;</span></td></tr><tr><td class="line-number" value="218"></td><td class="line-content">        Kembali</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">    <span class="html-tag">&lt;/a&gt;</span></td></tr><tr><td class="line-number" value="220"></td><td class="line-content"><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="221"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://code.jquery.com/jquery-3.6.0.min.js" rel="noreferrer noopener">https://code.jquery.com/jquery-3.6.0.min.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="222"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js" rel="noreferrer noopener">https://api.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="223"></td><td class="line-content"><span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="224"></td><td class="line-content">    let geojson = {"name":"KT003","type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"LineString","coordinates":[[103.9022685389272,1.729491772786282],[103.902102204036,1.729760772348382],[103.9023829476113,1.729917840613862],[103.9018192918913,1.730799453215791],[103.9026144495875,1.731572730852988],[103.9035278443461,1.732252245349374],[103.9044903047053,1.732965646096171],[103.9058610162368,1.734085288136083],[103.9077431433957,1.73550458072877],[103.909772054466,1.73714033164706],[103.9116212984279,1.73850268061827],[103.9137734176221,1.740158463384378],[103.9145266957659,1.740709944420417],[103.9159912732026,1.740905504092016],[103.9164820399688,1.741109181486001],[103.9178396094366,1.742194137737034],[103.9186680854511,1.743048941999832],[103.9192898465642,1.743988771102596],[103.9198905482741,1.745200302877026],[103.9201957551224,1.746000133750671],[103.9203778311175,1.747235655415717],[103.9206869097026,1.749972718833165],[103.9210428864271,1.751960973744764],[103.9218753669303,1.75456562199852],[103.9231122047589,1.758370672299274],[103.9232562018509,1.758638174709193],[103.9236717888851,1.758926756374199],[103.9255010258627,1.760639110112487],[103.9272284876394,1.762336670653701],[103.9277150663574,1.762851931923935],[103.9278875959453,1.76322298934612],[103.9286123315934,1.765126336758319],[103.9292210119014,1.766604832761275],[103.9291249952016,1.767259429065179],[103.9289697084167,1.768350665365873],[103.9289422191779,1.768837107059993],[103.9289922497137,1.769323116297197],[103.9296699922088,1.771612288169794],[103.9296765782852,1.772500347895009],[103.9296222808869,1.774050370041189],[103.9295665712399,1.775405318786628],[103.9296183615129,1.775601169220715],[103.929761129051,1.775838954090918],[103.9302272455002,1.77667730781343],[103.9309701373154,1.778040550789179],[103.9313741281621,1.778515146050883],[103.9318088128701,1.778842593087419],[103.9329035707306,1.779795464811048],[103.933474600558,1.780194104153247],[103.9338853204342,1.780287949630788],[103.9344613560977,1.780495458239924],[103.9347497572001,1.780661519750173],[103.9351087110108,1.781303235551203],[103.9362178810364,1.783160114134971],[103.9363214778438,1.783350405377112],[103.9367177855951,1.783681155739885],[103.9388250797157,1.785099279706086],[103.9397764787522,1.785663255075071],[103.9412848112555,1.786450467796062],[103.9429716091294,1.787494007392655],[103.9446469418259,1.788525298970145],[103.9457702408801,1.789266169651584],[103.946295454057,1.789805530432315],[103.9467198965229,1.790459867741451],[103.9478525853883,1.792327999673816],[103.9489962818222,1.794223143802158],[103.9504005940216,1.796392751807319],[103.9523751555997,1.799667280304112],[103.9537954650014,1.802037570730936],[103.9546116343538,1.802928697819725],[103.9556178334099,1.803920263339988],[103.9563436642401,1.804876982502248],[103.9566422623721,1.805332270131215],[103.9569167346023,1.805999637416895],[103.9569509307131,1.80652230922239],[103.9568888469461,1.807603299642258],[103.9569000372686,1.80887793612853],[103.9571809211337,1.810756577441514],[103.9575163024646,1.81450106437867],[103.9578488216864,1.818268532915112],[103.9580951397745,1.821590922336451],[103.9582882261022,1.822329068925872],[103.9585555045233,1.823449224043226],[103.9584642227426,1.824098302089191],[103.9582608317729,1.825183046375528],[103.9581396931361,1.826029949697914],[103.9582613898877,1.827864229381905],[103.9583158584844,1.828749783697792],[103.9588983073846,1.829723921305787],[103.9590647344004,1.830173706591636],[103.9591745650231,1.83093353930811],[103.9592739380642,1.832197131338619],[103.9594661663084,1.8342720868856],[103.9594759358385,1.834924641172203],[103.9594629147289,1.835543813399787],[103.9593291528029,1.83665274883579],[103.9593063769023,1.838225750207918],[103.9592456149981,1.838948012749198],[103.9589344673633,1.839657232619819],[103.9585297561857,1.84017545734481],[103.9583945991588,1.841087356500223],[103.9584303251426,1.841225550196102],[103.9586086566387,1.84158749531051],[103.9588338772537,1.842203069571232],[103.9591692415374,1.843228115409023],[103.9596631192805,1.844556478675952],[103.9604536547192,1.846678048819817],[103.9612101596129,1.848539397297464],[103.9619485228242,1.850285947292201],[103.9621586482288,1.850168177215496],[103.9630506359615,1.849905314923346],[103.9638732358974,1.849651696220687],[103.9645762223014,1.849580701252241],[103.9651470527782,1.84965376649104],[103.9655389536239,1.849732779451543],[103.9665535032287,1.85003943778522],[103.968223224069,1.850787268450119],[103.9699032440316,1.851509729675332],[103.9702017908358,1.85161031830575],[103.9705830396008,1.851654419949857],[103.9716546462132,1.851552228450633],[103.9732188424894,1.85130999171579],[103.9748395033785,1.851006756303826],[103.9752368641894,1.8509502762821],[103.9756983508212,1.850942696099847],[103.9762964199108,1.851094009586009],[103.9775487502351,1.851367871653223],[103.9794132852791,1.851801872020208],[103.980802203416,1.8522479934606],[103.9816162658626,1.85255741405561],[103.9822741908173,1.852944016540794],[103.9825632875767,1.85319625552727],[103.9831312947839,1.853772183953475],[103.9845409194171,1.855194421002323],[103.9856559728512,1.856250286627694],[103.9861878834145,1.856645238201116],[103.9868403439752,1.857032976109956],[103.9883296746483,1.857890481467915],[103.9899364150707,1.858812425987199],[103.9906283111566,1.859156727706963],[103.9916869528853,1.859436939123786],[103.9924058138351,1.859619137289365],[103.9935822402712,1.859894453194717],[103.9954177935038,1.860428285666932],[103.9960261778958,1.860546782579375],[103.9960607903181,1.860545967664421],[103.9963984698638,1.860588842013938],[103.9970555645723,1.860557214230716],[103.9982032499645,1.860211658133686],[103.9994716203729,1.85975101723812],[104.0013623881124,1.859146634903783],[104.0020664289186,1.859002338207567],[104.0027688512387,1.859009023753269],[104.0030624425835,1.859057652718513],[104.0032743052881,1.859145578265536],[104.0035110915171,1.859229581551009],[104.0043645591086,1.859797995693463],[104.005938307512,1.860884880376915],[104.0074163219578,1.861841648829794],[104.0084954981623,1.862493997211926],[104.0087118143927,1.862556475627778],[104.0094172640656,1.862681694100309],[104.0100056759491,1.86273336413742],[104.0116664303395,1.862869467656546],[104.0130324539035,1.862987044641747],[104.0148766405057,1.863146199365519],[104.0166766637353,1.863254234745537],[104.0173084095583,1.863245495756299],[104.0179193168217,1.863134165383239],[104.0185232986684,1.862960369317821],[104.019615641517,1.862591560548848],[104.0206034860446,1.862150367040229],[104.0213965214698,1.861677604106418],[104.0224827298824,1.860936929223613],[104.0235133231306,1.860336473545568],[104.0237057849304,1.860285497170866],[104.0237273387412,1.860284989292276],[104.0241436860518,1.86025224098579],[104.0246995928061,1.860316335124604],[104.0259513460189,1.860425879032796],[104.0272908749256,1.860561979969317],[104.0281139285229,1.860771666247942],[104.0291688369216,1.861022470381125],[104.030981215945,1.86157766571186],[104.032890137657,1.862245683444529],[104.0329973501581,1.862318018608614],[104.033538423633,1.862702763361469],[104.033999642438,1.86312694852475],[104.0345668402269,1.863948178518474],[104.0349096792228,1.864852380109375],[104.0354993883805,1.866331837125655],[104.0362924611126,1.868090444997969],[104.0370253323509,1.869663196667086],[104.0379481670281,1.871400951674271],[104.0386966880841,1.872918099088682],[104.0394563877241,1.874353485966102],[104.0398739019694,1.874946511654211],[104.0401201133261,1.875139684704716],[104.0404094260578,1.87535991771334],[104.0411923534159,1.875501789224638],[104.0419952740067,1.875596254322861],[104.042315373635,1.875674213591446],[104.0426321451955,1.875864445525186],[104.0429616113872,1.876401774317041],[104.0432625014777,1.877330985693901],[104.0435283849945,1.878918830081888],[104.0435601192632,1.87979273194335],[104.0434966971923,1.88024720649529],[104.0433867046004,1.880707029352825],[104.0426744710238,1.882388851974531],[104.0419535038762,1.884340206130608],[104.0418603801107,1.885021995120262],[104.0417998829814,1.88597932173632],[104.0418622856924,1.88656188919156],[104.0419804208462,1.88691766805243],[104.0423487054293,1.887998713960763],[104.0428920951021,1.889320367889642],[104.0433806097755,1.889747789089507],[104.0437400956182,1.890017565846249],[104.0450980919458,1.890855488106938],[104.0458212999804,1.891327296533499],[104.0461224179643,1.891632683502327],[104.0469317643666,1.892466164562076],[104.0488883194565,1.894563747141252],[104.0493039348982,1.894865554864291],[104.0496326786249,1.895051354084984],[104.0505162189831,1.895479356265108],[104.0519888987973,1.89614070753912],[104.0523991012153,1.896299404220073],[104.0529128961389,1.896512150532745],[104.0538048158116,1.89690320907291],[104.0545472995252,1.897290386434065],[104.0555037900406,1.897716213714052],[104.0567639188215,1.898292407511827],[104.0578186565104,1.898836328247568],[104.0585429474735,1.899208136706729],[104.0592908707888,1.899584513959898],[104.0597425366265,1.899884729483457],[104.0603606749437,1.900318800508936],[104.061093667293,1.900802823229768],[104.06196160524,1.90136256838677],[104.0632207239682,1.902185503281964],[104.0642966092722,1.902945169650479],[104.0655459273519,1.903876459640266],[104.0663611045048,1.904499507236917],[104.0676554004333,1.905567147531222],[104.0687956881208,1.906484181045625],[104.0688032463364,1.906493318207069],[104.0697532444852,1.907333511333428],[104.0704406736677,1.908015832933008],[104.0708500114627,1.908440581867833],[104.071220858736,1.908891375637812],[104.0714782508313,1.909223184723877],[104.0716821778876,1.909518322168747],[104.0719364892574,1.909848147144919],[104.0721416444224,1.910150644027411],[104.0724610754624,1.91057422293873],[104.0725018949627,1.910616595881095],[104.0725183593911,1.910637782399949],[104.0725313892798,1.910653959144291],[104.0726524765552,1.910861209747636],[104.0726577128381,1.910874703119257],[104.0727104225014,1.910932306458875],[104.0729674925375,1.911241807290148],[104.0731929253592,1.911599080776956],[104.0735912074944,1.912125449719827],[104.0741105588799,1.912836616799729],[104.0746161063371,1.913585442282827],[104.0752547615366,1.914451815887149],[104.07552872326,1.914866041162231],[104.0757888649385,1.915154603945922],[104.0759894367149,1.915288966057778],[104.0764981950494,1.915592698189453],[104.0771978560297,1.915955805285784],[104.077890584431,1.916286388501236],[104.0787402845526,1.916729930480565],[104.0794741900503,1.917067131555078],[104.0809932281957,1.917833610253784],[104.0825359832922,1.918639888388355],[104.0841230313419,1.91949923352682],[104.0863052583209,1.920616402679023],[104.0881523187418,1.921574480676057],[104.0884180028583,1.921877735684798],[104.0885161250886,1.922155575322464],[104.0885771896437,1.92275282723179],[104.0885790146175,1.9233874671249],[104.0886440451525,1.923583053664951],[104.0887200602467,1.923779012726559],[104.0888516544338,1.923911188013728],[104.0891373262291,1.924110198700433],[104.0894021573153,1.924216910144619],[104.0905461457119,1.924576611744233],[104.0915470495088,1.924820616654277],[104.0927068041097,1.925179601543231],[104.094000950615,1.925299185958145],[104.0954400177228,1.925268863525806],[104.0968698072606,1.925119993443161],[104.0987581601139,1.925075432506304],[104.1001201324579,1.925156178790992],[104.1006004530901,1.92538813047838],[104.1018060403552,1.92604908654739],[104.1029523005704,1.926337547225525],[104.1041900965594,1.926636619559301],[104.105766287766,1.926927465781123],[104.1059950050068,1.925537227839537],[104.1061123877568,1.924829873783087],[104.1060825773118,1.924594967319112],[104.1057601689039,1.92234414019513],[104.1054164814279,1.920308935571178],[104.1042169786495,1.917009916029689],[104.1030342766453,1.914009811790254],[104.1015204703588,1.909320525331074],[104.101879825715,1.901964803544482],[104.1021925066292,1.901059640031532],[104.1028957979789,1.900127225324448],[104.1032210418627,1.899729737319585],[104.1034618170875,1.899135401066812],[104.1035682462656,1.898386303647013],[104.1037488857914,1.897230275598253],[104.1036722962944,1.896442238808446],[104.1032669463325,1.894767897049233],[104.1034765233058,1.891264949749392],[104.104113486695,1.8856600016245],[104.104141990779,1.883379881518727],[104.1047556539442,1.88215272325041],[104.1061325237098,1.878906478732788],[104.1081379178011,1.875593282616486],[104.1106634851998,1.872139510591092],[104.1134345409356,1.867154467209924],[104.1168828425086,1.861175038230772],[104.119162444532,1.858729886975074],[104.1220713083642,1.855128573890462],[104.1250028392516,1.851731964949204],[104.1263162419457,1.850495214817048],[104.1278553397899,1.848562552085824],[104.1279859440915,1.84835788997541],[104.1284065937013,1.847849894851959],[104.1288807328858,1.847015972539334],[104.1291363438704,1.846758092516138],[104.1295294102958,1.846237229142874],[104.1304703589198,1.845514922458015],[104.1308056588424,1.845298337373224],[104.1312776801439,1.84502414439101],[104.1320253609126,1.844718399649364],[104.133415675328,1.84441408628887],[104.1333544663109,1.843953229483644],[104.1333509352869,1.844352488880396],[104.1317893626202,1.844718801434543],[104.1307373186681,1.845252519252576],[104.1298317957351,1.845848563628927],[104.1288456880889,1.846916569965353],[104.1279511412329,1.848608005809329],[104.1265877195016,1.850403241776039],[104.1228156185769,1.854542341885295],[104.122255473226,1.855098481332596],[104.1185524506612,1.859585115132152],[104.117126670018,1.86115961564544],[104.1154908517752,1.863831966788908],[104.1123288337859,1.869482909228434],[104.1095117391584,1.874084576954478],[104.1065402626609,1.878500666439069],[104.104827796982,1.882178249679624],[104.1044017538785,1.883654135421076],[104.1041917547314,1.887609727447502],[104.1039037020987,1.889369571031126],[104.1034171649104,1.893592771873776],[104.1033843463499,1.894979931262893],[104.1035895570198,1.895831714166268],[104.1038509905221,1.896996846627512],[104.1035711447379,1.899027524430404],[104.1033891057425,1.899663432272019],[104.1028314182662,1.900395625419279],[104.1023314172097,1.901035706377453],[104.102057377411,1.90172197027428],[104.101901777829,1.903165890898187],[104.1018472400148,1.904471991878139],[104.1018345023221,1.904999309208006],[104.1017020642039,1.909280673699513],[104.1058377895126,1.922022327845979],[104.1061969632634,1.924892524995724],[104.1058706170174,1.92696354602461],[104.1083027116672,1.927904207254321],[104.1097174276585,1.928064970004619],[104.1114204430327,1.92840976972683],[104.1129127248294,1.928812268931099],[104.1134998133829,1.928758837703369],[104.1134822038807,1.928440767813406],[104.1132734700916,1.9284716578409],[104.1131233267071,1.928560940692256],[104.1129963584512,1.928735079881865],[104.1127945600265,1.928741994159729],[104.1120680394373,1.928552181656501],[104.1104503218408,1.928147581430413],[104.1097863220063,1.928046289656609],[104.1090082189751,1.927922646326575],[104.1082343160569,1.927854948484315],[104.1065257460211,1.927229262197243],[104.1050157302438,1.926814794258576],[104.1030710176536,1.926316972216963],[104.1017857866437,1.926009960945619],[104.1003729018875,1.925239103353522],[104.0998077996587,1.925052414159222],[104.0973468344309,1.925078697400553],[104.0957706440761,1.925143134547239],[104.0943985057354,1.925200719559803],[104.0942737032432,1.925200719128591],[104.0935955166606,1.925231704585888],[104.0925779214752,1.925108892272994],[104.0911959220998,1.924648171765312],[104.0900457181152,1.924349231276086],[104.0891313431396,1.924038142467918],[104.0888244539783,1.923793157075869],[104.0887149671274,1.92358868561171],[104.088640679095,1.92317935549472],[104.0885924223011,1.922453384760277],[104.0885142956446,1.921976582447636],[104.088368913305,1.921741265267241],[104.0881070296349,1.921479001465011],[104.0873177314998,1.921074208372992],[104.0865476707414,1.920685516251943],[104.0845865620648,1.91967907620445],[104.0827944178649,1.918740051758718],[104.08071027788,1.917639000421256],[104.0781782702763,1.916386791510048],[104.0759122533444,1.91518039439129],[104.0758382371879,1.915127801519883],[104.0755880633295,1.914826828300678],[104.0751049204149,1.914168785170611],[104.0743138955185,1.913097217093711],[104.073369898857,1.911755587433175],[104.0720894181799,1.909967564907001],[104.0705190506264,1.908018808827335],[104.0687794129312,1.906437094762884],[104.0687424272277,1.906403272558655],[104.0687214600303,1.90637876947784],[104.0670830828378,1.905036804996992],[104.0654240134566,1.903718999971168],[104.0643508873822,1.902945283351094],[104.0622407897772,1.901487601316517],[104.0606892561379,1.900457517200031],[104.0589186691867,1.899323666603321],[104.0573745016524,1.89855168474156],[104.0555578698337,1.897699137362062],[104.0537177163782,1.896802635802259],[104.0520352059784,1.896084296150739],[104.050109947993,1.895240927638894],[104.0489092015458,1.894539638983172],[104.0484714264711,1.894061670352],[104.0467724950048,1.892241252077332],[104.045858112086,1.891265846048654],[104.045547155796,1.891078222239409],[104.0441071547368,1.890183669248932],[104.0430055681379,1.889376988526475],[104.0429177583646,1.889245730775064],[104.0426498726286,1.88867454163032],[104.0422208501438,1.887510986873105],[104.0418989049317,1.886541838854301],[104.0418560597243,1.885703565112646],[104.041976658546,1.884767106417151],[104.042085208427,1.884057382593017],[104.0422796525861,1.883674704718483],[104.0424758987294,1.88301548172811],[104.0429979349874,1.881765128595832],[104.0434791281815,1.88054865092806],[104.0436020018744,1.879695764948765],[104.0435264170153,1.878601752219563],[104.0430863577555,1.87661273148979],[104.0428143858352,1.875997335550237],[104.0425976929374,1.875751709433667],[104.0422474202324,1.875594013806367],[104.0407853997839,1.875386932684604],[104.0404466749988,1.875287144174284],[104.0403205942857,1.875233017207161],[104.0401357227726,1.875097233695119],[104.0398175391928,1.874770376653968],[104.0392115458052,1.873779144528913],[104.0385508094117,1.872466068722683],[104.037774735247,1.870975957003223],[104.036944346724,1.869366956821071],[104.0359530131512,1.867186527523526],[104.0349655685222,1.864863729567681],[104.0344587950154,1.863652093442237],[104.0336530448251,1.862735629930202],[104.0326040688767,1.862086146186977],[104.0304819941576,1.861346903851279],[104.0280608920357,1.860730404639573],[104.0267137167432,1.860549507058746],[104.0247484915489,1.860283270187819],[104.0238341114172,1.860228305542804],[104.0236535300035,1.860264835219779],[104.0233839578067,1.860335735574621],[104.0226313200328,1.860770379151671],[104.0215444326955,1.861526404332309],[104.0198044897175,1.862477854026029],[104.0175663751944,1.863154465603049],[104.0174398608161,1.863186201784572],[104.0158292535701,1.863150693378721],[104.0141325262054,1.863032153405774],[104.0117087473586,1.862848745978736],[104.009406932343,1.86263617717279],[104.0083282133989,1.862359182817823],[104.0078039272236,1.862042943502747],[104.0063319147576,1.86105555486671],[104.0040500379885,1.859540582841849],[104.0032342690599,1.859077813005072],[104.0030590100685,1.859023964095327],[104.0024493787543,1.858954233087755],[104.0016227402672,1.859023883251851],[104.0000638582574,1.859501936458537],[103.9971068569576,1.860493065614698],[103.9965878606479,1.860534419215961],[103.9963971640543,1.860544440031036],[103.9951074901021,1.86029996820019],[103.9929609385259,1.859678541189808],[103.9907133746577,1.859119935279515],[103.9897502142757,1.858648641292461],[103.9877237227827,1.857482690507882],[103.9863654997022,1.856710855477944],[103.985609083012,1.856152575333918],[103.9837686886725,1.854349644501067],[103.9821328246092,1.852788236338248],[103.9815620343573,1.85246650081627],[103.9803846176401,1.852003301360694],[103.9772329608376,1.851251004573475],[103.9764409162626,1.851062665536958],[103.975676952707,1.850896850931031],[103.9749280975679,1.850893150850304],[103.9721979991567,1.851433143881218],[103.9706388736686,1.851602481769313],[103.9699422533571,1.851456222094204],[103.9680391620802,1.850652919973691],[103.9659985043823,1.849806830204194],[103.9652153576798,1.849604642282318],[103.9643449338832,1.849542990083733],[103.9636075895496,1.849659675341759],[103.9619663273856,1.850168866479021],[103.9617183124256,1.849616131767064],[103.9611684387933,1.848238406024039],[103.9604970629262,1.846641522245524],[103.9598677471342,1.844898505785964],[103.9591792490784,1.84313712587938],[103.9585562069479,1.841317201519589],[103.9584991412144,1.841173734073188],[103.9585272242084,1.84067620933946],[103.9586383999981,1.840139530714032],[103.9588157438803,1.839921093560022],[103.959171931919,1.839266105423941],[103.9593579299943,1.838704374495121],[103.9593548180825,1.838660253545079],[103.9593708490859,1.837817118940917],[103.9593841369762,1.836520967113201],[103.9595309946333,1.835121429998413],[103.9595038055897,1.833947348835195],[103.9593113133573,1.832168911156249],[103.95922996983,1.830532523241974],[103.9589236897819,1.829594162752554],[103.9585056168282,1.828915107948066],[103.9583756293791,1.828632693988144],[103.9583258774848,1.827657704945972],[103.9582722614065,1.82636295677737],[103.9582361376222,1.82590779381471],[103.9583297021926,1.824963411156113],[103.9584837329007,1.824375341277505],[103.9584867750257,1.824254325165953],[103.9585655764692,1.823660057116898],[103.9584838872057,1.822928014585126],[103.9582167776108,1.821766571803532],[103.9581286490517,1.82082499658156],[103.9580169320929,1.819609018151224],[103.9578706127192,1.818023401407741],[103.9576950271984,1.816092636363846],[103.9575511809686,1.813887406369585],[103.9573236722691,1.811743985207644],[103.9570574147653,1.809230591939409],[103.9569638650568,1.808512577877034],[103.9569716361033,1.807308360730409],[103.956971936111,1.80631017163619],[103.9568902434064,1.80575050710903],[103.9568410100244,1.805634804067581],[103.9564500966178,1.804840396447243],[103.9552382955805,1.803415572473214],[103.9541312508314,1.802325784510082],[103.9534828065134,1.801336325104182],[103.9520972206045,1.799094267858818],[103.9511642862668,1.797515572466061],[103.9497433387331,1.795290354836465],[103.9482028975635,1.792803866386922],[103.9463452773916,1.789776329182341],[103.9460012572352,1.789356412935863],[103.9452171605241,1.78881990538876],[103.9428744752493,1.787309234301261],[103.9409822192131,1.786213812651938],[103.93988416554,1.78564513489187],[103.9382995394967,1.784677648959718],[103.9368977193205,1.783734395582725],[103.9361028957921,1.782819623403876],[103.9352468687293,1.781403691586143],[103.9346916216491,1.78051484945625],[103.934216294489,1.78031005495014],[103.9335298315687,1.78013998036912],[103.9330367985946,1.779826893708509],[103.932152278344,1.779019917334371],[103.9312948824728,1.778324828310908],[103.9304682859031,1.777006154619901],[103.9297312547049,1.775575487360944],[103.9296439095401,1.775239441513486],[103.9296631667921,1.774264282008861],[103.9297051734316,1.772971312502855],[103.9297581216798,1.771949783032871],[103.9297190761005,1.77142773544285],[103.9294791170212,1.770737885886234],[103.9290714023757,1.769304045917738],[103.9290150894406,1.768695216446141],[103.929075262848,1.768040577997413],[103.9292493183668,1.766845064726349],[103.929261431529,1.766559465221569],[103.9292269489705,1.766486880561874],[103.9287106255322,1.765108382306028],[103.9280333990638,1.763285703883364],[103.9275827620748,1.762470301795762],[103.9268960380933,1.761787667816669],[103.925685360576,1.760678399591943],[103.9244909175483,1.759547034255812],[103.9233230999814,1.758564920714338],[103.9232018687369,1.758289347326832],[103.9228716600576,1.757374318213108],[103.9225219132597,1.756290877983263],[103.9219674720196,1.754647591286197],[103.9213316658446,1.752607706094647],[103.9210437012176,1.751663945817102],[103.9208727304492,1.750605873923414],[103.9207429340947,1.749539981132749],[103.9206061685368,1.748310047829151],[103.9203573915494,1.746523256498821],[103.9202454705476,1.745804354495677],[103.9200886783659,1.745374405135969],[103.919851439217,1.744915926213191],[103.919343382486,1.7439681683135],[103.9188322968834,1.743155877341881],[103.9183493324925,1.742520201132688],[103.9178628575519,1.742048146003046],[103.9170724112211,1.741413690926428],[103.9164561589421,1.740926621773476],[103.9156304537388,1.740210370333525],[103.9149216973299,1.739413171212582],[103.9144372191273,1.738549577168865],[103.9140082247609,1.737425557434386],[103.9138793702953,1.736992229428316],[103.9137484512857,1.736776114492231],[103.913283277351,1.737263835539125],[103.9117929868771,1.738547762471328],[103.9109644968308,1.737874713094438],[103.9098083465398,1.737078723583383],[103.9088793490183,1.736339265367426],[103.9079420795716,1.735591275341525],[103.9064703740327,1.734405432963381],[103.9052015550007,1.733480112431947],[103.9019193844409,1.730778793643289],[103.902482066771,1.72991124052433],[103.902651578779,1.729674779022986],[103.90284347241,1.729318201394535],[103.9029496979273,1.728858623127252],[103.9029882486346,1.728017506739556],[103.9025640746109,1.728042109357172],[103.9025540679474,1.728711337624129],[103.9024716284912,1.729088924750835],[103.9023606417883,1.729245088672219],[103.9023305821042,1.729372409217742]]}}]};</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">    let pois = [{"name":"Terminal Tun Sri Lanang, Kota Tinggi","lat":"1.72931073","lng":"103.90193978"},{"name":"Bank Muamalat Kota Tinggi","lat":"1.73381600","lng":"103.90531700"},{"name":"Kampung Mawai","lat":"1.85001000","lng":"103.96601300"},{"name":"Kampung Mawai Baharu","lat":"1.85174700","lng":"103.97122800"},{"name":"Pusat Komuniti Desa Mawai Baru","lat":"1.85668500","lng":"103.98589900"},{"name":"Kampung Sayang ","lat":"1.88193700","lng":"104.04273600"},{"name":"SK Gembut ","lat":"1.89929100","lng":"104.05851900"},{"name":"Sekolah Agama Kampung Gembut","lat":"1.90123600","lng":"104.06159700"},{"name":"Kampung Singapura","lat":"1.91716100","lng":"104.07943800"},{"name":"Kampung Sentosa","lat":"1.92280800","lng":"104.08848700"},{"name":"Sekolah Agama Seri Mahkota ","lat":"1.92532600","lng":"104.09426500"},{"name":"LKIM Tg. Sedili","lat":"1.92881900","lng":"104.11308100"},{"name":"SK Sri Setia Jaya","lat":"1.92730600","lng":"104.10721000"},{"name":"Kampung Tanjung Lembu","lat":"1.91895100","lng":"104.10489100"},{"name":"Pantai Teluk Mahkota (Jason Bay)","lat":"1.89864900","lng":"104.10362600"},{"name":"GIATMARA TG. SEDILI","lat":"1.92540500","lng":"104.10607700"},{"name":"Kampung Teluk Jeri","lat":"1.92513500","lng":"104.09424000"},{"name":"Kampung Sentosa (Ke Kota Tinggi)","lat":"1.92309000","lng":"104.08867300"},{"name":"Kampung Singapura","lat":"1.91701100","lng":"104.07951400"},{"name":"Sekolah Agama Kg. Gembut (Ke kota Tinggi)","lat":"1.90082700","lng":"104.06125600"},{"name":"SK Gembut (Ke Kota Tinggi)","lat":"1.89926300","lng":"104.05888000"},{"name":"Kampung Sayang (Ke Kota Tinggi)","lat":"1.88108200","lng":"104.04335700"},{"name":"SK Mawai","lat":"1.85698900","lng":"103.98687000"},{"name":"Kg Mawai Baharu (Ke Kota Tinggi )","lat":"1.85096900","lng":"103.97462100"},{"name":"Kampung Mawai (Ke Kota Tinggi )","lat":"1.85005300","lng":"103.96713200"},{"name":"Simpang Mawai","lat":"1.84272000","lng":"103.95907800"},{"name":"Terminal Tun Sri Lanang, Kota Tinggi","lat":"1.72931073","lng":"103.90193978"}];</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">    let imageBusStop = 'https://live.paj.com.my/assets/bus-stop-marker.png';</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">    let imageArrows = 'https://live.paj.com.my/assets/arrow-markers-red.png';</td></tr><tr><td class="line-number" value="228"></td><td class="line-content">    let imageBus = 'https://live.paj.com.my/assets/bus-marker.png';</td></tr><tr><td class="line-number" value="229"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">    // Convert POIs to GeoJSON format</td></tr><tr><td class="line-number" value="231"></td><td class="line-content">    const poisGeoJSON = {</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="233"></td><td class="line-content">        features: pois.map(poi =&gt; ({</td></tr><tr><td class="line-number" value="234"></td><td class="line-content">            type: 'Feature',</td></tr><tr><td class="line-number" value="235"></td><td class="line-content">            geometry: {</td></tr><tr><td class="line-number" value="236"></td><td class="line-content">                type: 'Point',</td></tr><tr><td class="line-number" value="237"></td><td class="line-content">                coordinates: [parseFloat(poi.lng), parseFloat(poi.lat)]</td></tr><tr><td class="line-number" value="238"></td><td class="line-content">            },</td></tr><tr><td class="line-number" value="239"></td><td class="line-content">            properties: {</td></tr><tr><td class="line-number" value="240"></td><td class="line-content">                name: poi.name</td></tr><tr><td class="line-number" value="241"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="242"></td><td class="line-content">        }))</td></tr><tr><td class="line-number" value="243"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="244"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="245"></td><td class="line-content">    // Create initial bus GeoJSON with empty features</td></tr><tr><td class="line-number" value="246"></td><td class="line-content">    const busGeoJSON = {</td></tr><tr><td class="line-number" value="247"></td><td class="line-content">        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="248"></td><td class="line-content">        features: []</td></tr><tr><td class="line-number" value="249"></td><td class="line-content">    };</td></tr><tr><td class="line-number" value="250"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="251"></td><td class="line-content">    mapboxgl.accessToken = 'pk.eyJ1IjoiYWxpZmRhcnNpbSIsImEiOiJjbTRjZ3djcmIwNTMxMmlxcGZvZWx1eTFqIn0.X3VV1PhXekp3_HAwoB6kbw';</td></tr><tr><td class="line-number" value="252"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="253"></td><td class="line-content">    // Initialize map with default center</td></tr><tr><td class="line-number" value="254"></td><td class="line-content">    const map = new mapboxgl.Map({</td></tr><tr><td class="line-number" value="255"></td><td class="line-content">        container: 'map',</td></tr><tr><td class="line-number" value="256"></td><td class="line-content">        style: 'mapbox://styles/mapbox/streets-v12',</td></tr><tr><td class="line-number" value="257"></td><td class="line-content">        center: [103.317818, 2.029433],</td></tr><tr><td class="line-number" value="258"></td><td class="line-content">        zoom: 8</td></tr><tr><td class="line-number" value="259"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="260"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="261"></td><td class="line-content">    // Wait for map to load before adding layers</td></tr><tr><td class="line-number" value="262"></td><td class="line-content">    map.on('load', () =&gt; {</td></tr><tr><td class="line-number" value="263"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="264"></td><td class="line-content">        // Load both bus stop and bus icons</td></tr><tr><td class="line-number" value="265"></td><td class="line-content">        Promise.all([</td></tr><tr><td class="line-number" value="266"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="267"></td><td class="line-content">                map.loadImage(imageBusStop, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="268"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="269"></td><td class="line-content">                    map.addImage('bus-stop-icon', image);</td></tr><tr><td class="line-number" value="270"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="271"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="272"></td><td class="line-content">            }),</td></tr><tr><td class="line-number" value="273"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="274"></td><td class="line-content">                map.loadImage(imageBus, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="275"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="276"></td><td class="line-content">                    map.addImage('bus-icon', image);</td></tr><tr><td class="line-number" value="277"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="278"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="279"></td><td class="line-content">            }),</td></tr><tr><td class="line-number" value="280"></td><td class="line-content">            new Promise((resolve, reject) =&gt; {</td></tr><tr><td class="line-number" value="281"></td><td class="line-content">                map.loadImage(imageArrows, (error, image) =&gt; {</td></tr><tr><td class="line-number" value="282"></td><td class="line-content">                    if (error) reject(error);</td></tr><tr><td class="line-number" value="283"></td><td class="line-content">                    map.addImage('arrow-icon', image);</td></tr><tr><td class="line-number" value="284"></td><td class="line-content">                    resolve();</td></tr><tr><td class="line-number" value="285"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="286"></td><td class="line-content">            })</td></tr><tr><td class="line-number" value="287"></td><td class="line-content">        ]).then(() =&gt; {</td></tr><tr><td class="line-number" value="288"></td><td class="line-content">            // Add the route source</td></tr><tr><td class="line-number" value="289"></td><td class="line-content">            map.addSource('route', {</td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="291"></td><td class="line-content">                'data': geojson</td></tr><tr><td class="line-number" value="292"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="293"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="294"></td><td class="line-content">            // Add the bus stops source</td></tr><tr><td class="line-number" value="295"></td><td class="line-content">            map.addSource('bus-stops', {</td></tr><tr><td class="line-number" value="296"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="297"></td><td class="line-content">                'data': poisGeoJSON</td></tr><tr><td class="line-number" value="298"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="299"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="300"></td><td class="line-content">            // Add the bus source</td></tr><tr><td class="line-number" value="301"></td><td class="line-content">            map.addSource('bus', {</td></tr><tr><td class="line-number" value="302"></td><td class="line-content">                'type': 'geojson',</td></tr><tr><td class="line-number" value="303"></td><td class="line-content">                'data': busGeoJSON</td></tr><tr><td class="line-number" value="304"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="305"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="306"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="307"></td><td class="line-content">            // Add the arrow layer</td></tr><tr><td class="line-number" value="308"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="309"></td><td class="line-content">                'id': 'route-arrows',</td></tr><tr><td class="line-number" value="310"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="311"></td><td class="line-content">                'source': 'route',</td></tr><tr><td class="line-number" value="312"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="313"></td><td class="line-content">                    'symbol-placement': 'line',</td></tr><tr><td class="line-number" value="314"></td><td class="line-content">                    'symbol-spacing': 25,</td></tr><tr><td class="line-number" value="315"></td><td class="line-content">                    'icon-image': 'arrow-icon',</td></tr><tr><td class="line-number" value="316"></td><td class="line-content">                    'icon-size': 0.3,</td></tr><tr><td class="line-number" value="317"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="318"></td><td class="line-content">                    'icon-ignore-placement': true,</td></tr><tr><td class="line-number" value="319"></td><td class="line-content">                    'icon-rotation-alignment': 'map',</td></tr><tr><td class="line-number" value="320"></td><td class="line-content">                    'icon-pitch-alignment': 'map'</td></tr><tr><td class="line-number" value="321"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="322"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="323"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="324"></td><td class="line-content">            // Add the route layer</td></tr><tr><td class="line-number" value="325"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="326"></td><td class="line-content">                'id': 'route',</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">                'type': 'line',</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">                'source': 'route',</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="330"></td><td class="line-content">                    'line-join': 'round',</td></tr><tr><td class="line-number" value="331"></td><td class="line-content">                    'line-cap': 'round'</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">                    'line-color': '#ff0000',</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">                    'line-width': 3</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="338"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="339"></td><td class="line-content">            // Add the bus stops layer</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">                'id': 'bus-stops',</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="343"></td><td class="line-content">                'source': 'bus-stops',</td></tr><tr><td class="line-number" value="344"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">                    'icon-anchor': 'bottom',</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">                    'icon-image': 'bus-stop-icon',</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">                    'icon-size': [</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">                        'interpolate',</td></tr><tr><td class="line-number" value="349"></td><td class="line-content">                        ['linear'],</td></tr><tr><td class="line-number" value="350"></td><td class="line-content">                        ['zoom'],</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">                        10, 0.45,</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">                        13, 0.55,</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">                        16, 0.65</td></tr><tr><td class="line-number" value="354"></td><td class="line-content">                    ],</td></tr><tr><td class="line-number" value="355"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">                    'text-field': ['get', 'name'],</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">                    'text-size': 11.5,</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">                    'text-offset': [0, -1.8],</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">                    'text-anchor': 'bottom',</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">                    'text-optional': true,</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">                    'text-font': ['Arial Unicode MS Bold'],</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">                    'text-halo-color': '#ffffff',</td></tr><tr><td class="line-number" value="365"></td><td class="line-content">                    'text-halo-width': 1,</td></tr><tr><td class="line-number" value="366"></td><td class="line-content">                    'text-color': '#6884D9',</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="369"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="370"></td><td class="line-content">            // Add the bus layer</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">            map.addLayer({</td></tr><tr><td class="line-number" value="372"></td><td class="line-content">                'id': 'bus',</td></tr><tr><td class="line-number" value="373"></td><td class="line-content">                'type': 'symbol',</td></tr><tr><td class="line-number" value="374"></td><td class="line-content">                'source': 'bus',</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">                'layout': {</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">                    'icon-anchor': 'bottom',</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">                    'icon-image': 'bus-icon',</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                    'icon-size': [</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">                        'interpolate',</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">                        ['linear'],</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">                        ['zoom'],</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">                        10, 0.65,</td></tr><tr><td class="line-number" value="383"></td><td class="line-content">                        13, 0.75,</td></tr><tr><td class="line-number" value="384"></td><td class="line-content">                        16, 0.85</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">                    ],</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">                    'icon-allow-overlap': true,</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">                    'text-field': ['get', 'busId'],</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">                    'text-size': 12,</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">                    'text-offset': [0, -2.1],</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">                    'text-anchor': 'bottom',</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">                    'text-optional': true,</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">                    'text-font': ['Arial Unicode MS Bold']</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">                },</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">                'paint': {</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">                    'text-halo-color': '#ffffff',</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">                    'text-halo-width': 1,</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">                    'text-color': '#ff3c00'</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="400"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="401"></td><td class="line-content">            // Add popup on click for buses</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">            map.on('click', 'bus', (e) =&gt; {</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">                const coordinates = e.features[0].geometry.coordinates.slice();</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">                const busId = e.features[0].properties.busId;</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">                const lastUpdate = new Date(e.features[0].properties.lastUpdate).toLocaleString();</td></tr><tr><td class="line-number" value="406"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="407"></td><td class="line-content">                new mapboxgl.Popup({</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">                    anchor: 'bottom',</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">                    offset: [0, -40]</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">                })</td></tr><tr><td class="line-number" value="411"></td><td class="line-content">                    .setLngLat(coordinates)</td></tr><tr><td class="line-number" value="412"></td><td class="line-content">                    .setHTML(`</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">                        &lt;p class="bus-stop-name"&gt;Bus ${busId}&lt;/p&gt;</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">                        &lt;p style="margin: 5px 0 0 0; font-size: 12px;"&gt;Update: ${lastUpdate}&lt;/p&gt;</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">                    `)</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="418"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="419"></td><td class="line-content">            // Change cursor on hover for buses</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">            map.on('mouseenter', 'bus', () =&gt; {</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">                map.getCanvas().style.cursor = 'pointer';</td></tr><tr><td class="line-number" value="422"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="423"></td><td class="line-content">            map.on('mouseleave', 'bus', () =&gt; {</td></tr><tr><td class="line-number" value="424"></td><td class="line-content">                map.getCanvas().style.cursor = '';</td></tr><tr><td class="line-number" value="425"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="426"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="427"></td><td class="line-content">            // Add popup on click for bus stops</td></tr><tr><td class="line-number" value="428"></td><td class="line-content">            map.on('click', 'bus-stops', (e) =&gt; {</td></tr><tr><td class="line-number" value="429"></td><td class="line-content">                const coordinates = e.features[0].geometry.coordinates.slice();</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">                const name = e.features[0].properties.name;</td></tr><tr><td class="line-number" value="431"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="432"></td><td class="line-content">                new mapboxgl.Popup()</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">                    .setLngLat(coordinates)</td></tr><tr><td class="line-number" value="434"></td><td class="line-content">                    .setHTML(`&lt;p class="bus-stop-name"&gt;${name}&lt;/p&gt;`)</td></tr><tr><td class="line-number" value="435"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="437"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="438"></td><td class="line-content">            // Change cursor on hover for bus stops</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">            map.on('mouseenter', 'bus-stops', () =&gt; {</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">                map.getCanvas().style.cursor = 'pointer';</td></tr><tr><td class="line-number" value="441"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="442"></td><td class="line-content">            map.on('mouseleave', 'bus-stops', () =&gt; {</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">                map.getCanvas().style.cursor = '';</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="445"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="446"></td><td class="line-content">            // Get the bounds of all features</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">            const coordinates = geojson.features[0].geometry.coordinates;</td></tr><tr><td class="line-number" value="448"></td><td class="line-content">            const bounds = coordinates.reduce((bounds, coord) =&gt; {</td></tr><tr><td class="line-number" value="449"></td><td class="line-content">                return bounds.extend(coord);</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">            }, new mapboxgl.LngLatBounds(coordinates[0], coordinates[0]));</td></tr><tr><td class="line-number" value="451"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="452"></td><td class="line-content">            // Extend bounds to include POIs</td></tr><tr><td class="line-number" value="453"></td><td class="line-content">            pois.forEach(poi =&gt; {</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">                bounds.extend([parseFloat(poi.lng), parseFloat(poi.lat)]);</td></tr><tr><td class="line-number" value="455"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="456"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="457"></td><td class="line-content">            // Fit the map to the route with padding</td></tr><tr><td class="line-number" value="458"></td><td class="line-content">            map.fitBounds(bounds, {</td></tr><tr><td class="line-number" value="459"></td><td class="line-content">                padding: 50,</td></tr><tr><td class="line-number" value="460"></td><td class="line-content">                duration: 1000</td></tr><tr><td class="line-number" value="461"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="462"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="463"></td><td class="line-content">        }).catch(error =&gt; console.error('Error loading images:', error));</td></tr><tr><td class="line-number" value="464"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="465"></td><td class="line-content">        updateBusLocation();</td></tr><tr><td class="line-number" value="466"></td><td class="line-content">    });</td></tr><tr><td class="line-number" value="467"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="468"></td><td class="line-content">    // Function to fetch and update bus location</td></tr><tr><td class="line-number" value="469"></td><td class="line-content">    function updateBusLocation() {</td></tr><tr><td class="line-number" value="470"></td><td class="line-content">        $.ajax({</td></tr><tr><td class="line-number" value="471"></td><td class="line-content">            url: `https://live.paj.com.my/get/KT003`,</td></tr><tr><td class="line-number" value="472"></td><td class="line-content">            method: 'get',</td></tr><tr><td class="line-number" value="473"></td><td class="line-content">            cache: false,</td></tr><tr><td class="line-number" value="474"></td><td class="line-content">            dataType: "json",</td></tr><tr><td class="line-number" value="475"></td><td class="line-content">            success: function(result) {</td></tr><tr><td class="line-number" value="476"></td><td class="line-content">                if (result.success) {</td></tr><tr><td class="line-number" value="477"></td><td class="line-content">                    let arrayData = Object.values(result.data);</td></tr><tr><td class="line-number" value="478"></td><td class="line-content">                    // Update bus positions in GeoJSON</td></tr><tr><td class="line-number" value="479"></td><td class="line-content">                    const newBusGeoJSON = {</td></tr><tr><td class="line-number" value="480"></td><td class="line-content">                        type: 'FeatureCollection',</td></tr><tr><td class="line-number" value="481"></td><td class="line-content">                        features: arrayData.map(bus =&gt; ({</td></tr><tr><td class="line-number" value="482"></td><td class="line-content">                            type: 'Feature',</td></tr><tr><td class="line-number" value="483"></td><td class="line-content">                            geometry: {</td></tr><tr><td class="line-number" value="484"></td><td class="line-content">                                type: 'Point',</td></tr><tr><td class="line-number" value="485"></td><td class="line-content">                                coordinates: [bus.lng, bus.lat]</td></tr><tr><td class="line-number" value="486"></td><td class="line-content">                            },</td></tr><tr><td class="line-number" value="487"></td><td class="line-content">                            properties: {</td></tr><tr><td class="line-number" value="488"></td><td class="line-content">                                busId: bus.bus,</td></tr><tr><td class="line-number" value="489"></td><td class="line-content">                                title: `Bus ${bus.bus}`,</td></tr><tr><td class="line-number" value="490"></td><td class="line-content">                                lastUpdate: bus.time</td></tr><tr><td class="line-number" value="491"></td><td class="line-content">                            }</td></tr><tr><td class="line-number" value="492"></td><td class="line-content">                        }))</td></tr><tr><td class="line-number" value="493"></td><td class="line-content">                    };</td></tr><tr><td class="line-number" value="494"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="495"></td><td class="line-content">                    try {</td></tr><tr><td class="line-number" value="496"></td><td class="line-content">                        map.getSource('bus').setData(newBusGeoJSON);</td></tr><tr><td class="line-number" value="497"></td><td class="line-content">                        // Update the sliding cards</td></tr><tr><td class="line-number" value="498"></td><td class="line-content">                        updateBusCards(arrayData);</td></tr><tr><td class="line-number" value="499"></td><td class="line-content">                    } catch (e) {</td></tr><tr><td class="line-number" value="500"></td><td class="line-content">                        // console.error('Error updating map:', e);</td></tr><tr><td class="line-number" value="501"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="502"></td><td class="line-content">                } else {</td></tr><tr><td class="line-number" value="503"></td><td class="line-content">                    // console.log('Error:', result.message);</td></tr><tr><td class="line-number" value="504"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="505"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="506"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="507"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="508"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="509"></td><td class="line-content">    // Function to update bus cards</td></tr><tr><td class="line-number" value="510"></td><td class="line-content">    function updateBusCards(busData) {</td></tr><tr><td class="line-number" value="511"></td><td class="line-content">        const busCardsContainer = document.getElementById('busCards');</td></tr><tr><td class="line-number" value="512"></td><td class="line-content">        busCardsContainer.innerHTML = ''; // Clear existing cards</td></tr><tr><td class="line-number" value="513"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="514"></td><td class="line-content">        if (busData.length &lt; 3) {</td></tr><tr><td class="line-number" value="515"></td><td class="line-content">            // Center the container for a single bus</td></tr><tr><td class="line-number" value="516"></td><td class="line-content">            busCardsContainer.style.display = 'flex';</td></tr><tr><td class="line-number" value="517"></td><td class="line-content">            busCardsContainer.style.justifyContent = 'center';</td></tr><tr><td class="line-number" value="518"></td><td class="line-content">        } else {</td></tr><tr><td class="line-number" value="519"></td><td class="line-content">            // Restore default styles for multiple buses</td></tr><tr><td class="line-number" value="520"></td><td class="line-content">            busCardsContainer.style.display = 'block';</td></tr><tr><td class="line-number" value="521"></td><td class="line-content">            busCardsContainer.style.justifyContent = ''; // Clear the justifyContent</td></tr><tr><td class="line-number" value="522"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="523"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="524"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="525"></td><td class="line-content">        busData.forEach(bus =&gt; {</td></tr><tr><td class="line-number" value="526"></td><td class="line-content">            const card = document.createElement('div');</td></tr><tr><td class="line-number" value="527"></td><td class="line-content">            card.className = 'bus-card';</td></tr><tr><td class="line-number" value="528"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="529"></td><td class="line-content">            // Check if the last update is within the last 30 minutes</td></tr><tr><td class="line-number" value="530"></td><td class="line-content">            const lastUpdateTime = new Date(bus.time);</td></tr><tr><td class="line-number" value="531"></td><td class="line-content">            // const timeDifferenceInMinutes = (currentTime - lastUpdateTime) / (1000 * 60);</td></tr><tr><td class="line-number" value="532"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="533"></td><td class="line-content">            // if (timeDifferenceInMinutes &lt;= 30) {</td></tr><tr><td class="line-number" value="534"></td><td class="line-content">            //     card.style.background = 'rgb(20,192,80)'; // Light green background</td></tr><tr><td class="line-number" value="535"></td><td class="line-content">            // }</td></tr><tr><td class="line-number" value="536"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="537"></td><td class="line-content">            card.onclick = () =&gt; {</td></tr><tr><td class="line-number" value="538"></td><td class="line-content">                // Remove active class from all cards</td></tr><tr><td class="line-number" value="539"></td><td class="line-content">                document.querySelectorAll('.bus-card').forEach(c =&gt; c.classList.remove('active'));</td></tr><tr><td class="line-number" value="540"></td><td class="line-content">                // Add active class to clicked card</td></tr><tr><td class="line-number" value="541"></td><td class="line-content">                card.classList.add('active');</td></tr><tr><td class="line-number" value="542"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="543"></td><td class="line-content">                // Fly to bus location</td></tr><tr><td class="line-number" value="544"></td><td class="line-content">                map.flyTo({</td></tr><tr><td class="line-number" value="545"></td><td class="line-content">                    center: [bus.lng, bus.lat],</td></tr><tr><td class="line-number" value="546"></td><td class="line-content">                    zoom: 15,</td></tr><tr><td class="line-number" value="547"></td><td class="line-content">                    duration: 1000</td></tr><tr><td class="line-number" value="548"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="549"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="550"></td><td class="line-content">                // Show popup for the bus</td></tr><tr><td class="line-number" value="551"></td><td class="line-content">                new mapboxgl.Popup({</td></tr><tr><td class="line-number" value="552"></td><td class="line-content">                    anchor: 'bottom',</td></tr><tr><td class="line-number" value="553"></td><td class="line-content">                    offset: [0, -40]</td></tr><tr><td class="line-number" value="554"></td><td class="line-content">                })</td></tr><tr><td class="line-number" value="555"></td><td class="line-content">                    .setLngLat([bus.lng, bus.lat])</td></tr><tr><td class="line-number" value="556"></td><td class="line-content">                    .setHTML(`</td></tr><tr><td class="line-number" value="557"></td><td class="line-content">                    &lt;p class="bus-stop-name"&gt;Bus ${bus.bus}&lt;/p&gt;</td></tr><tr><td class="line-number" value="558"></td><td class="line-content">                    &lt;p style="margin: 0 0 0 0; font-size: 12px;"&gt;Update: ${lastUpdateTime.toLocaleString()}&lt;/p&gt;</td></tr><tr><td class="line-number" value="559"></td><td class="line-content">                `)</td></tr><tr><td class="line-number" value="560"></td><td class="line-content">                    .addTo(map);</td></tr><tr><td class="line-number" value="561"></td><td class="line-content">            };</td></tr><tr><td class="line-number" value="562"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="563"></td><td class="line-content">            let time = new Date(bus.time);</td></tr><tr><td class="line-number" value="564"></td><td class="line-content">            let now = new Date();</td></tr><tr><td class="line-number" value="565"></td><td class="line-content">            let timeDifference = (now - time) / (1000 * 60); // Difference in minutes</td></tr><tr><td class="line-number" value="566"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="567"></td><td class="line-content">            let onlineStat = '';</td></tr><tr><td class="line-number" value="568"></td><td class="line-content">            // Apply green background if less than 30 minutes</td></tr><tr><td class="line-number" value="569"></td><td class="line-content">            if (timeDifference &lt; 30) {</td></tr><tr><td class="line-number" value="570"></td><td class="line-content">                // add a class to the card</td></tr><tr><td class="line-number" value="571"></td><td class="line-content">                onlineStat = `&lt;i class="fa-solid fa-signal-stream mt-1 fs-2 online" style="color: #0fa354 !important;"&gt;&lt;/i&gt;`;</td></tr><tr><td class="line-number" value="572"></td><td class="line-content">                card.classList.add('online');</td></tr><tr><td class="line-number" value="573"></td><td class="line-content">                card.classList.remove('offline');</td></tr><tr><td class="line-number" value="574"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="575"></td><td class="line-content">            else {</td></tr><tr><td class="line-number" value="576"></td><td class="line-content">                // remove the class</td></tr><tr><td class="line-number" value="577"></td><td class="line-content">                onlineStat = `&lt;i class="fa-solid fa-signal-stream-slash mt-1 fs-2 offline" style="color: #ff274f !important;"&gt;&lt;/i&gt;`;</td></tr><tr><td class="line-number" value="578"></td><td class="line-content">                card.classList.remove('online');</td></tr><tr><td class="line-number" value="579"></td><td class="line-content">                card.classList.add('offline');</td></tr><tr><td class="line-number" value="580"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="581"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="582"></td><td class="line-content">            // Format time as dd/mm/yyyy hh:mm:ss AM/PM</td></tr><tr><td class="line-number" value="583"></td><td class="line-content">            let timeString = time.toLocaleString('en-GB', {hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true});</td></tr><tr><td class="line-number" value="584"></td><td class="line-content">            card.innerHTML = `</td></tr><tr><td class="line-number" value="585"></td><td class="line-content">                &lt;div class="d-flex justify-content-between"&gt;</td></tr><tr><td class="line-number" value="586"></td><td class="line-content">                    &lt;div class="d-flex"&gt;</td></tr><tr><td class="line-number" value="587"></td><td class="line-content">                        &lt;div class="legend-icon me-1" style="background-image: url(https://live.paj.com.my/assets/bus-marker.png)"&gt;&lt;/div&gt;</td></tr><tr><td class="line-number" value="588"></td><td class="line-content">                        &lt;p class="bus-id mb-0 fs-4 fw-bold"&gt;${bus.bus}&lt;/p&gt;</td></tr><tr><td class="line-number" value="589"></td><td class="line-content">                    &lt;/div&gt;</td></tr><tr><td class="line-number" value="590"></td><td class="line-content">                    ${onlineStat}</td></tr><tr><td class="line-number" value="591"></td><td class="line-content">                &lt;/div&gt;</td></tr><tr><td class="line-number" value="592"></td><td class="line-content">                &lt;p class="last-update fs-7 fw-bold"&gt;&lt;i class="fa-solid fa-clock ms-1 me-2 text-primary"&gt;&lt;/i&gt;${timeString.toUpperCase()}&lt;/p&gt;</td></tr><tr><td class="line-number" value="593"></td><td class="line-content">            `;</td></tr><tr><td class="line-number" value="594"></td><td class="line-content">            busCardsContainer.appendChild(card);</td></tr><tr><td class="line-number" value="595"></td><td class="line-content">        });</td></tr><tr><td class="line-number" value="596"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="597"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="598"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="599"></td><td class="line-content">    // interval to update bus location</td></tr><tr><td class="line-number" value="600"></td><td class="line-content">    setInterval(updateBusLocation, 10000);</td></tr><tr><td class="line-number" value="601"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="602"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="603"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span></td></tr><tr><td class="line-number" value="604"></td><td class="line-content"><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>